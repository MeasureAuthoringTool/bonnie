---
http_interactions:
- request:
    method: post
    uri: https://vsac.nlm.nih.gov/vsac/ws/Ticket
    body:
      encoding: UTF-8
      string: username=invaliduser&password=invalidpassword
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Content-Length:
      - '45'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - Ruby
  response:
    status:
      code: 401
      message: ''
    headers:
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Pragma:
      - no-cache
      Expires:
      - '0'
      X-Xss-Protection:
      - 1; mode=block
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - text/plain;charset=utf-8
      Content-Length:
      - '0'
      Date:
      - Tue, 22 Aug 2017 16:05:34 GMT
      Set-Cookie:
      - BIGipServervsacweb_p=!CUJ9d3X5bEqujE7LMWjf8K3rTDmEEk02qXngIthIhKU8Umka6EXtfLpAmDC0yDIPFTm/GZX9qZKfLZQ=;
        expires=Tue, 22-Aug-2017 18:05:34 GMT; path=/; Httponly; Secure
      X-Vip-Info:
      - 130.14.16.40:443
      X-Pool-Info:
      - "/Common/vsacweb_p 10.1.5.114 8080"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Tue, 22 Aug 2017 16:05:34 GMT
- request:
    method: post
    uri: http://localhost:8080/cql/translator
    body:
      encoding: ASCII-8BIT
      string: "--647091\r\nContent-Disposition: form-data; name=\"file[]\"\r\n\r\nlibrary
        InitiationandEngagementofAlcoholandOtherDrugDependenceTreatment version '0.0.001'\n\nusing
        QDM version '5.0'\n\nvalueset \"Psych Visit - Psychotherapy\": 'urn:oid:2.16.840.1.113883.3.526.3.1496'
        \n\nvalueset \"Alcohol and Drug Dependence\": 'urn:oid:2.16.840.1.113883.3.464.1003.106.12.1001'
        \n\nvalueset \"Face-to-Face Interaction\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1048'
        \n\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836' \n\nvalueset \"ONC
        Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1' \n\nvalueset \"Office
        Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001' \n\nvalueset \"Hospital
        Inpatient Visit - Initial\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1004'
        \n\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837' \n\nvalueset
        \"Alcohol and Drug Dependence Treatment\": 'urn:oid:2.16.840.1.113883.3.464.1003.106.12.1005'
        \n\nvalueset \"Payer\": 'urn:oid:2.16.840.1.114222.4.11.3591' \n\nvalueset
        \"Detoxification Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1059'
        \n\nvalueset \"Discharge Services - Hospital Inpatient\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1007'
        \n\nvalueset \"Hospital Observation Care - Initial\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1002'
        \n\nvalueset \"Discharge Services - Hospital Inpatient Same Day Discharge\":
        'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1006' \n\nvalueset \"Emergency
        Department Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1010' \n\nparameter
        \"Measurement Period\" Interval<DateTime>\n\ncontext Patient\n\ndefine \"SDE
        Ethnicity\": [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\n\ndefine
        \"SDE Payer\": [\"Patient Characteristic Payer\": \"Payer\"]\n\ndefine \"SDE
        Race\": [\"Patient Characteristic Race\": \"Race\"]\n\ndefine \"SDE Sex\":
        [\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\n\ndefine \"Initial
        Population 1\": \"In Demographic\" \r\n and exists (\"First Alcohol Drug Dependence
        Dx\")\n\ndefine \"Denominator 1\": \"Initial Population 1\"\n\ndefine \"Numerator
        1\": exists (\"Drug Dependence Treatment Or Psych Visit\")\n\ndefine \"Stratification
        1_1\": AgeInYearsAt(start of \"Measurement Period\") >= 13 \r\n     and AgeInYearsAt(start
        of \"Measurement Period\") < 18\n\ndefine \"Stratification 1_2\": AgeInYearsAt(start
        of \"Measurement Period\") >= 18\n\ndefine \"Initial Population 2\": \"In
        Demographic\" \r\nand exists (\"First Alcohol Drug Dependence Dx\")\n\ndefine
        \"Denominator 2\": \"Initial Population 2\"\n\ndefine \"Denominator Exclusions
        1\": [\"Diagnosis\": \"Alcohol and Drug Dependence\"] Diagnosis \r\n     with
        \"First Alcohol Drug Dependence Dx\" FirstDiagnosis \r\n       such that Diagnosis.prevalencePeriod
        starts 60 days or less after start of FirstDiagnosis.prevalencePeriod\n\ndefine
        \"Denominator Exclusions 2\": [\"Diagnosis\": \"Alcohol and Drug Dependence\"]
        Diagnosis \r\n     with \"First Alcohol Drug Dependence Dx\" FirstDiagnosis
        \r\n       such that Diagnosis.prevalencePeriod starts 60 days or less after
        start of FirstDiagnosis.prevalencePeriod\n\ndefine \"Drug Dependence Treatment
        Encounters A Month After Diagnosis\": \"Drug Dependence Treatment Or Psych
        Encounters\" Encounter \r\n     with \"Drug Dependence Treatment Or Psych
        Visit\" Visit \r\n       such that Visit.relevantPeriod starts 30 days or
        less after start of Encounter.relevantPeriod\n\ndefine \"Numerator 2\": \"Numerator
        1\" \r\n     and Count(\"Drug Dependence Treatment Encounters A Month After
        Diagnosis\") >= 2\n\ndefine \"In Demographic\": AgeInYearsAt(start of \"Measurement
        Period\") >= 13\n\ndefine \"Valid Encounters\": distinct ( \r\n[\"Encounter,
        Performed\": \"Office Visit\"] \r\n union [\"Encounter, Performed\": \"Emergency
        Department Visit\"] \r\n union [\"Encounter, Performed\": \"Detoxification
        Visit\"] \r\n union [\"Encounter, Performed\": \"Hospital Observation Care
        - Initial\"] \r\n union [\"Encounter, Performed\": \"Hospital Inpatient Visit
        - Initial\"] \r\n union [\"Encounter, Performed\": \"Discharge Services -
        Hospital Inpatient Same Day Discharge\"] \r\n union [\"Encounter, Performed\":
        \"Discharge Services - Hospital Inpatient\"] \r\n union [\"Encounter, Performed\":
        \"Face-to-Face Interaction\"] \r\n)\n\ndefine \"Encounters During Measurement
        Period\": \"Valid Encounters\" Encounter \r\n  where Encounter.relevantPeriod
        during \"Measurement Period\"\n\ndefine \"Alcohol and Drug Dependence Diagnosis\":
        [\"Diagnosis\": \"Alcohol and Drug Dependence\"]\n\ndefine \"First Alcohol
        Drug Dependence Interval\": Interval[start of \"Measurement Period\", start
        of \"Measurement Period\" + 10 months]\n\ndefine \"First Alcohol Drug Dependence\":
        { First( \r\n   \"Alcohol and Drug Dependence Diagnosis\" Diagnosis \r\n     where
        Diagnosis.prevalencePeriod starts during \"First Alcohol Drug Dependence Interval\"
        \r\n      sort by start of prevalencePeriod \r\n ) \r\n}\n\ndefine \"First
        Alcohol Drug Dependence Dx\": \"First Alcohol Drug Dependence\" Diagnosis
        \r\n  with \"Encounters During Measurement Period\" Encounter \r\n  such that
        Diagnosis.prevalencePeriod starts during Encounter.relevantPeriod\n\ndefine
        \"Drug Dependence Treatment Or Psych Encounters\": [\"Encounter, Performed\":
        \"Alcohol and Drug Dependence Treatment\"] \r\n union [\"Encounter, Performed\":
        \"Psych Visit - Psychotherapy\"]\n\ndefine \"Drug Dependence Treatment Or
        Psych Visit\": \"Drug Dependence Treatment Or Psych Encounters\" Encounter
        \r\n     with \"First Alcohol Drug Dependence Dx\" Diagnosis \r\n     such
        that Diagnosis.prevalencePeriod starts 14 days or less after start of Encounter.relevantPeriod\n\r\n--647091--\r\n"
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Content-Length:
      - '5344'
      Content-Type:
      - multipart/form-data; boundary=647091
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Mime-Version:
      - '1.0'
      Content-Type:
      - multipart/form-data;boundary=Boundary_15_334526780_1503417935499
      Date:
      - Tue, 22 Aug 2017 16:05:35 GMT
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: "--Boundary_15_334526780_1503417935499\r\nContent-Type: application/elm+json\r\nContent-Disposition:
        form-data; name=\"file[]\"\r\n\r\n{\n   \"library\" : {\n      \"annotation\"
        : [ {\n         \"startLine\" : 39,\n         \"startChar\" : 25,\n         \"endLine\"
        : 39,\n         \"endChar\" : 73,\n         \"message\" : \"Retrieve has a
        terminology target but does not specify a code path and the type of the retrieve
        does not have a primary code path defined.\",\n         \"errorType\" : \"semantic\",\n
        \        \"errorSeverity\" : \"warning\",\n         \"type\" : \"CqlToElmError\"\n
        \     }, {\n         \"startLine\" : 39,\n         \"startChar\" : 25,\n         \"endLine\"
        : 39,\n         \"endChar\" : 73,\n         \"message\" : \"Could not resolve
        membership operator for terminology target of the retrieve.\",\n         \"errorType\"
        : \"semantic\",\n         \"errorSeverity\" : \"warning\",\n         \"type\"
        : \"CqlToElmError\"\n      }, {\n         \"startLine\" : 41,\n         \"startChar\"
        : 21,\n         \"endLine\" : 41,\n         \"endChar\" : 61,\n         \"message\"
        : \"Retrieve has a terminology target but does not specify a code path and
        the type of the retrieve does not have a primary code path defined.\",\n         \"errorType\"
        : \"semantic\",\n         \"errorSeverity\" : \"warning\",\n         \"type\"
        : \"CqlToElmError\"\n      }, {\n         \"startLine\" : 41,\n         \"startChar\"
        : 21,\n         \"endLine\" : 41,\n         \"endChar\" : 61,\n         \"message\"
        : \"Could not resolve membership operator for terminology target of the retrieve.\",\n
        \        \"errorType\" : \"semantic\",\n         \"errorSeverity\" : \"warning\",\n
        \        \"type\" : \"CqlToElmError\"\n      }, {\n         \"startLine\"
        : 43,\n         \"startChar\" : 20,\n         \"endLine\" : 43,\n         \"endChar\"
        : 58,\n         \"message\" : \"Retrieve has a terminology target but does
        not specify a code path and the type of the retrieve does not have a primary
        code path defined.\",\n         \"errorType\" : \"semantic\",\n         \"errorSeverity\"
        : \"warning\",\n         \"type\" : \"CqlToElmError\"\n      }, {\n         \"startLine\"
        : 43,\n         \"startChar\" : 20,\n         \"endLine\" : 43,\n         \"endChar\"
        : 58,\n         \"message\" : \"Could not resolve membership operator for
        terminology target of the retrieve.\",\n         \"errorType\" : \"semantic\",\n
        \        \"errorSeverity\" : \"warning\",\n         \"type\" : \"CqlToElmError\"\n
        \     }, {\n         \"startLine\" : 45,\n         \"startChar\" : 19,\n         \"endLine\"
        : 45,\n         \"endChar\" : 74,\n         \"message\" : \"Retrieve has a
        terminology target but does not specify a code path and the type of the retrieve
        does not have a primary code path defined.\",\n         \"errorType\" : \"semantic\",\n
        \        \"errorSeverity\" : \"warning\",\n         \"type\" : \"CqlToElmError\"\n
        \     }, {\n         \"startLine\" : 45,\n         \"startChar\" : 19,\n         \"endLine\"
        : 45,\n         \"endChar\" : 74,\n         \"message\" : \"Could not resolve
        membership operator for terminology target of the retrieve.\",\n         \"errorType\"
        : \"semantic\",\n         \"errorSeverity\" : \"warning\",\n         \"type\"
        : \"CqlToElmError\"\n      }, {\n         \"startLine\" : 95,\n         \"startChar\"
        : 49,\n         \"endLine\" : 95,\n         \"endChar\" : 92,\n         \"message\"
        : \"Retrieve has a terminology target but does not specify a code path and
        the type of the retrieve does not have a primary code path defined.\",\n         \"errorType\"
        : \"semantic\",\n         \"errorSeverity\" : \"warning\",\n         \"type\"
        : \"CqlToElmError\"\n      }, {\n         \"startLine\" : 95,\n         \"startChar\"
        : 49,\n         \"endLine\" : 95,\n         \"endChar\" : 92,\n         \"message\"
        : \"Could not resolve membership operator for terminology target of the retrieve.\",\n
        \        \"errorType\" : \"semantic\",\n         \"errorSeverity\" : \"warning\",\n
        \        \"type\" : \"CqlToElmError\"\n      }, {\n         \"startLine\"
        : 64,\n         \"startChar\" : 36,\n         \"endLine\" : 64,\n         \"endChar\"
        : 79,\n         \"message\" : \"Retrieve has a terminology target but does
        not specify a code path and the type of the retrieve does not have a primary
        code path defined.\",\n         \"errorType\" : \"semantic\",\n         \"errorSeverity\"
        : \"warning\",\n         \"type\" : \"CqlToElmError\"\n      }, {\n         \"startLine\"
        : 64,\n         \"startChar\" : 36,\n         \"endLine\" : 64,\n         \"endChar\"
        : 79,\n         \"message\" : \"Could not resolve membership operator for
        terminology target of the retrieve.\",\n         \"errorType\" : \"semantic\",\n
        \        \"errorSeverity\" : \"warning\",\n         \"type\" : \"CqlToElmError\"\n
        \     }, {\n         \"startLine\" : 68,\n         \"startChar\" : 36,\n         \"endLine\"
        : 68,\n         \"endChar\" : 79,\n         \"message\" : \"Retrieve has a
        terminology target but does not specify a code path and the type of the retrieve
        does not have a primary code path defined.\",\n         \"errorType\" : \"semantic\",\n
        \        \"errorSeverity\" : \"warning\",\n         \"type\" : \"CqlToElmError\"\n
        \     }, {\n         \"startLine\" : 68,\n         \"startChar\" : 36,\n         \"endLine\"
        : 68,\n         \"endChar\" : 79,\n         \"message\" : \"Could not resolve
        membership operator for terminology target of the retrieve.\",\n         \"errorType\"
        : \"semantic\",\n         \"errorSeverity\" : \"warning\",\n         \"type\"
        : \"CqlToElmError\"\n      } ],\n      \"identifier\" : {\n         \"id\"
        : \"InitiationandEngagementofAlcoholandOtherDrugDependenceTreatment\",\n         \"version\"
        : \"0.0.001\"\n      },\n      \"schemaIdentifier\" : {\n         \"id\" :
        \"urn:hl7-org:elm\",\n         \"version\" : \"r1\"\n      },\n      \"usings\"
        : {\n         \"def\" : [ {\n            \"localIdentifier\" : \"System\",\n
        \           \"uri\" : \"urn:hl7-org:elm-types:r1\"\n         }, {\n            \"localId\"
        : \"1\",\n            \"localIdentifier\" : \"QDM\",\n            \"uri\"
        : \"urn:healthit-gov:qdm:v5_0_draft\",\n            \"version\" : \"5.0\"\n
        \        } ]\n      },\n      \"parameters\" : {\n         \"def\" : [ {\n
        \           \"localId\" : \"19\",\n            \"name\" : \"Measurement Period\",\n
        \           \"accessLevel\" : \"Public\",\n            \"parameterTypeSpecifier\"
        : {\n               \"localId\" : \"18\",\n               \"type\" : \"IntervalTypeSpecifier\",\n
        \              \"pointType\" : {\n                  \"localId\" : \"17\",\n
        \                 \"name\" : \"{urn:hl7-org:elm-types:r1}DateTime\",\n                  \"type\"
        : \"NamedTypeSpecifier\"\n               }\n            }\n         } ]\n
        \     },\n      \"valueSets\" : {\n         \"def\" : [ {\n            \"localId\"
        : \"2\",\n            \"name\" : \"Psych Visit - Psychotherapy\",\n            \"id\"
        : \"urn:oid:2.16.840.1.113883.3.526.3.1496\",\n            \"accessLevel\"
        : \"Public\"\n         }, {\n            \"localId\" : \"3\",\n            \"name\"
        : \"Alcohol and Drug Dependence\",\n            \"id\" : \"urn:oid:2.16.840.1.113883.3.464.1003.106.12.1001\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"4\",\n            \"name\" : \"Face-to-Face Interaction\",\n            \"id\"
        : \"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1048\",\n            \"accessLevel\"
        : \"Public\"\n         }, {\n            \"localId\" : \"5\",\n            \"name\"
        : \"Race\",\n            \"id\" : \"urn:oid:2.16.840.1.114222.4.11.836\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"6\",\n            \"name\" : \"ONC Administrative Sex\",\n            \"id\"
        : \"urn:oid:2.16.840.1.113762.1.4.1\",\n            \"accessLevel\" : \"Public\"\n
        \        }, {\n            \"localId\" : \"7\",\n            \"name\" : \"Office
        Visit\",\n            \"id\" : \"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"8\",\n            \"name\" : \"Hospital Inpatient Visit - Initial\",\n
        \           \"id\" : \"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1004\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"9\",\n            \"name\" : \"Ethnicity\",\n            \"id\" : \"urn:oid:2.16.840.1.114222.4.11.837\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"10\",\n            \"name\" : \"Alcohol and Drug Dependence Treatment\",\n
        \           \"id\" : \"urn:oid:2.16.840.1.113883.3.464.1003.106.12.1005\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"11\",\n            \"name\" : \"Payer\",\n            \"id\" : \"urn:oid:2.16.840.1.114222.4.11.3591\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"12\",\n            \"name\" : \"Detoxification Visit\",\n            \"id\"
        : \"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1059\",\n            \"accessLevel\"
        : \"Public\"\n         }, {\n            \"localId\" : \"13\",\n            \"name\"
        : \"Discharge Services - Hospital Inpatient\",\n            \"id\" : \"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1007\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"14\",\n            \"name\" : \"Hospital Observation Care - Initial\",\n
        \           \"id\" : \"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1002\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"15\",\n            \"name\" : \"Discharge Services - Hospital Inpatient
        Same Day Discharge\",\n            \"id\" : \"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1006\",\n
        \           \"accessLevel\" : \"Public\"\n         }, {\n            \"localId\"
        : \"16\",\n            \"name\" : \"Emergency Department Visit\",\n            \"id\"
        : \"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1010\",\n            \"accessLevel\"
        : \"Public\"\n         } ]\n      },\n      \"statements\" : {\n         \"def\"
        : [ {\n            \"name\" : \"Patient\",\n            \"context\" : \"Patient\",\n
        \           \"expression\" : {\n               \"type\" : \"SingletonFrom\",\n
        \              \"operand\" : {\n                  \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}Patient\",\n
        \                 \"templateId\" : \"Patient\",\n                  \"type\"
        : \"Retrieve\"\n               }\n            }\n         }, {\n            \"localId\"
        : \"21\",\n            \"name\" : \"SDE Ethnicity\",\n            \"context\"
        : \"Patient\",\n            \"accessLevel\" : \"Public\",\n            \"annotation\"
        : [ {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n
        \                 \"r\" : \"21\",\n                  \"s\" : [ {\n                     \"value\"
        : [ \"define \",\"\\\"SDE Ethnicity\\\"\",\": \" ]\n                  }, {\n
        \                    \"r\" : \"20\",\n                     \"s\" : [ {\n                        \"value\"
        : [ \"[\",\"\\\"Patient Characteristic Ethnicity\\\"\",\": \" ]\n                     },
        {\n                        \"s\" : [ {\n                           \"value\"
        : [ \"\\\"Ethnicity\\\"\" ]\n                        } ]\n                     },
        {\n                        \"value\" : [ \"]\" ]\n                     } ]\n
        \                 } ]\n               }\n            } ],\n            \"expression\"
        : {\n               \"localId\" : \"20\",\n               \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PatientCharacteristicEthnicity\",\n
        \              \"type\" : \"Retrieve\",\n               \"codes\" : {\n                  \"name\"
        : \"Ethnicity\",\n                  \"type\" : \"ValueSetRef\"\n               }\n
        \           }\n         }, {\n            \"localId\" : \"23\",\n            \"name\"
        : \"SDE Payer\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"23\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"SDE Payer\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"22\",\n                     \"s\" : [ {\n                        \"value\"
        : [ \"[\",\"\\\"Patient Characteristic Payer\\\"\",\": \" ]\n                     },
        {\n                        \"s\" : [ {\n                           \"value\"
        : [ \"\\\"Payer\\\"\" ]\n                        } ]\n                     },
        {\n                        \"value\" : [ \"]\" ]\n                     } ]\n
        \                 } ]\n               }\n            } ],\n            \"expression\"
        : {\n               \"localId\" : \"22\",\n               \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PatientCharacteristicPayer\",\n
        \              \"type\" : \"Retrieve\",\n               \"codes\" : {\n                  \"name\"
        : \"Payer\",\n                  \"type\" : \"ValueSetRef\"\n               }\n
        \           }\n         }, {\n            \"localId\" : \"25\",\n            \"name\"
        : \"SDE Race\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"25\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"SDE Race\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"24\",\n                     \"s\" : [ {\n                        \"value\"
        : [ \"[\",\"\\\"Patient Characteristic Race\\\"\",\": \" ]\n                     },
        {\n                        \"s\" : [ {\n                           \"value\"
        : [ \"\\\"Race\\\"\" ]\n                        } ]\n                     },
        {\n                        \"value\" : [ \"]\" ]\n                     } ]\n
        \                 } ]\n               }\n            } ],\n            \"expression\"
        : {\n               \"localId\" : \"24\",\n               \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PatientCharacteristicRace\",\n
        \              \"type\" : \"Retrieve\",\n               \"codes\" : {\n                  \"name\"
        : \"Race\",\n                  \"type\" : \"ValueSetRef\"\n               }\n
        \           }\n         }, {\n            \"localId\" : \"27\",\n            \"name\"
        : \"SDE Sex\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"27\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"SDE Sex\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"26\",\n                     \"s\" : [ {\n                        \"value\"
        : [ \"[\",\"\\\"Patient Characteristic Sex\\\"\",\": \" ]\n                     },
        {\n                        \"s\" : [ {\n                           \"value\"
        : [ \"\\\"ONC Administrative Sex\\\"\" ]\n                        } ]\n                     },
        {\n                        \"value\" : [ \"]\" ]\n                     } ]\n
        \                 } ]\n               }\n            } ],\n            \"expression\"
        : {\n               \"localId\" : \"26\",\n               \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PatientCharacteristicSex\",\n
        \              \"type\" : \"Retrieve\",\n               \"codes\" : {\n                  \"name\"
        : \"ONC Administrative Sex\",\n                  \"type\" : \"ValueSetRef\"\n
        \              }\n            }\n         }, {\n            \"localId\" :
        \"33\",\n            \"name\" : \"In Demographic\",\n            \"context\"
        : \"Patient\",\n            \"accessLevel\" : \"Public\",\n            \"annotation\"
        : [ {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n
        \                 \"r\" : \"33\",\n                  \"s\" : [ {\n                     \"value\"
        : [ \"define \",\"\\\"In Demographic\\\"\",\": \" ]\n                  },
        {\n                     \"r\" : \"32\",\n                     \"s\" : [ {\n
        \                       \"r\" : \"30\",\n                        \"s\" : [
        {\n                           \"value\" : [ \"AgeInYearsAt\",\"(\" ]\n                        },
        {\n                           \"r\" : \"29\",\n                           \"s\"
        : [ {\n                              \"value\" : [ \"start of \" ]\n                           },
        {\n                              \"r\" : \"28\",\n                              \"s\"
        : [ {\n                                 \"value\" : [ \"\\\"Measurement Period\\\"\"
        ]\n                              } ]\n                           } ]\n                        },
        {\n                           \"value\" : [ \")\" ]\n                        }
        ]\n                     }, {\n                        \"value\" : [ \" \",\">=\",\"
        \",\"13\" ]\n                     } ]\n                  } ]\n               }\n
        \           } ],\n            \"expression\" : {\n               \"localId\"
        : \"32\",\n               \"type\" : \"GreaterOrEqual\",\n               \"operand\"
        : [ {\n                  \"localId\" : \"30\",\n                  \"precision\"
        : \"Year\",\n                  \"type\" : \"CalculateAgeAt\",\n                  \"operand\"
        : [ {\n                     \"path\" : \"birthDatetime\",\n                     \"type\"
        : \"Property\",\n                     \"source\" : {\n                        \"name\"
        : \"Patient\",\n                        \"type\" : \"ExpressionRef\"\n                     }\n
        \                 }, {\n                     \"localId\" : \"29\",\n                     \"type\"
        : \"Start\",\n                     \"operand\" : {\n                        \"localId\"
        : \"28\",\n                        \"name\" : \"Measurement Period\",\n                        \"type\"
        : \"ParameterRef\"\n                     }\n                  } ]\n               },
        {\n                  \"localId\" : \"31\",\n                  \"valueType\"
        : \"{urn:hl7-org:elm-types:r1}Integer\",\n                  \"value\" : \"13\",\n
        \                 \"type\" : \"Literal\"\n               } ]\n            }\n
        \        }, {\n            \"localId\" : \"36\",\n            \"name\" : \"Alcohol
        and Drug Dependence Diagnosis\",\n            \"context\" : \"Patient\",\n
        \           \"accessLevel\" : \"Public\",\n            \"annotation\" : [
        {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n                  \"r\"
        : \"36\",\n                  \"s\" : [ {\n                     \"value\" :
        [ \"define \",\"\\\"Alcohol and Drug Dependence Diagnosis\\\"\",\": \" ]\n
        \                 }, {\n                     \"r\" : \"35\",\n                     \"s\"
        : [ {\n                        \"value\" : [ \"[\",\"\\\"Diagnosis\\\"\",\":
        \" ]\n                     }, {\n                        \"s\" : [ {\n                           \"value\"
        : [ \"\\\"Alcohol and Drug Dependence\\\"\" ]\n                        } ]\n
        \                    }, {\n                        \"value\" : [ \"]\" ]\n
        \                    } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"35\",\n
        \              \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}Diagnosis\",\n
        \              \"type\" : \"Retrieve\",\n               \"codes\" : {\n                  \"name\"
        : \"Alcohol and Drug Dependence\",\n                  \"type\" : \"ValueSetRef\"\n
        \              }\n            }\n         }, {\n            \"localId\" :
        \"48\",\n            \"name\" : \"First Alcohol Drug Dependence Interval\",\n
        \           \"context\" : \"Patient\",\n            \"accessLevel\" : \"Public\",\n
        \           \"annotation\" : [ {\n               \"type\" : \"Annotation\",\n
        \              \"s\" : {\n                  \"r\" : \"48\",\n                  \"s\"
        : [ {\n                     \"value\" : [ \"define \",\"\\\"First Alcohol
        Drug Dependence Interval\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"47\",\n                     \"s\" : [ {\n                        \"value\"
        : [ \"Interval[\" ]\n                     }, {\n                        \"r\"
        : \"42\",\n                        \"s\" : [ {\n                           \"value\"
        : [ \"start of \" ]\n                        }, {\n                           \"r\"
        : \"41\",\n                           \"s\" : [ {\n                              \"value\"
        : [ \"\\\"Measurement Period\\\"\" ]\n                           } ]\n                        }
        ]\n                     }, {\n                        \"value\" : [ \", \"
        ]\n                     }, {\n                        \"r\" : \"46\",\n                        \"s\"
        : [ {\n                           \"r\" : \"44\",\n                           \"s\"
        : [ {\n                              \"value\" : [ \"start of \" ]\n                           },
        {\n                              \"r\" : \"43\",\n                              \"s\"
        : [ {\n                                 \"value\" : [ \"\\\"Measurement Period\\\"\"
        ]\n                              } ]\n                           } ]\n                        },
        {\n                           \"value\" : [ \" + \" ]\n                        },
        {\n                           \"r\" : \"45\",\n                           \"s\"
        : [ {\n                              \"value\" : [ \"10 \",\"months\" ]\n
        \                          } ]\n                        } ]\n                     },
        {\n                        \"value\" : [ \"]\" ]\n                     } ]\n
        \                 } ]\n               }\n            } ],\n            \"expression\"
        : {\n               \"localId\" : \"47\",\n               \"lowClosed\" :
        true,\n               \"highClosed\" : true,\n               \"type\" : \"Interval\",\n
        \              \"low\" : {\n                  \"localId\" : \"42\",\n                  \"type\"
        : \"Start\",\n                  \"operand\" : {\n                     \"localId\"
        : \"41\",\n                     \"name\" : \"Measurement Period\",\n                     \"type\"
        : \"ParameterRef\"\n                  }\n               },\n               \"high\"
        : {\n                  \"localId\" : \"46\",\n                  \"type\" :
        \"Add\",\n                  \"operand\" : [ {\n                     \"localId\"
        : \"44\",\n                     \"type\" : \"Start\",\n                     \"operand\"
        : {\n                        \"localId\" : \"43\",\n                        \"name\"
        : \"Measurement Period\",\n                        \"type\" : \"ParameterRef\"\n
        \                    }\n                  }, {\n                     \"localId\"
        : \"45\",\n                     \"value\" : 10,\n                     \"unit\"
        : \"months\",\n                     \"type\" : \"Quantity\"\n                  }
        ]\n               }\n            }\n         }, {\n            \"localId\"
        : \"58\",\n            \"name\" : \"First Alcohol Drug Dependence\",\n            \"context\"
        : \"Patient\",\n            \"accessLevel\" : \"Public\",\n            \"annotation\"
        : [ {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n
        \                 \"r\" : \"58\",\n                  \"s\" : [ {\n                     \"value\"
        : [ \"define \",\"\\\"First Alcohol Drug Dependence\\\"\",\": \" ]\n                  },
        {\n                     \"r\" : \"57\",\n                     \"s\" : [ {\n
        \                       \"value\" : [ \"{ \" ]\n                     }, {\n
        \                       \"r\" : \"56\",\n                        \"s\" : [
        {\n                           \"value\" : [ \"First\",\"( \\r\\n   \" ]\n
        \                       }, {\n                           \"r\" : \"55\",\n
        \                          \"s\" : [ {\n                              \"s\"
        : [ {\n                                 \"r\" : \"38\",\n                                 \"s\"
        : [ {\n                                    \"r\" : \"37\",\n                                    \"s\"
        : [ {\n                                       \"s\" : [ {\n                                          \"value\"
        : [ \"\\\"Alcohol and Drug Dependence Diagnosis\\\"\" ]\n                                       }
        ]\n                                    } ]\n                                 },
        {\n                                    \"value\" : [ \" \",\"Diagnosis\" ]\n
        \                                } ]\n                              } ]\n
        \                          }, {\n                              \"value\" :
        [ \" \\r\\n     \" ]\n                           }, {\n                              \"r\"
        : \"50\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"where \" ]\n                              }, {\n                                 \"r\"
        : \"50\",\n                                 \"s\" : [ {\n                                    \"r\"
        : \"40\",\n                                    \"s\" : [ {\n                                       \"r\"
        : \"39\",\n                                       \"s\" : [ {\n                                          \"value\"
        : [ \"Diagnosis\" ]\n                                       } ]\n                                    },
        {\n                                       \"value\" : [ \".\" ]\n                                    },
        {\n                                       \"r\" : \"40\",\n                                       \"s\"
        : [ {\n                                          \"value\" : [ \"prevalencePeriod\"
        ]\n                                       } ]\n                                    }
        ]\n                                 }, {\n                                    \"value\"
        : [ \" \",\"starts during\",\" \" ]\n                                 }, {\n
        \                                   \"r\" : \"49\",\n                                    \"s\"
        : [ {\n                                       \"value\" : [ \"\\\"First Alcohol
        Drug Dependence Interval\\\"\" ]\n                                    } ]\n
        \                                } ]\n                              } ]\n
        \                          }, {\n                              \"value\" :
        [ \" \\r\\n      \" ]\n                           }, {\n                              \"r\"
        : \"54\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"sort by \" ]\n                              }, {\n                                 \"r\"
        : \"53\",\n                                 \"s\" : [ {\n                                    \"r\"
        : \"52\",\n                                    \"s\" : [ {\n                                       \"value\"
        : [ \"start of \" ]\n                                    }, {\n                                       \"r\"
        : \"51\",\n                                       \"s\" : [ {\n                                          \"value\"
        : [ \"prevalencePeriod\" ]\n                                       } ]\n                                    }
        ]\n                                 } ]\n                              } ]\n
        \                          } ]\n                        }, {\n                           \"value\"
        : [ \" \\r\\n )\" ]\n                        } ]\n                     },
        {\n                        \"value\" : [ \" \\r\\n}\" ]\n                     }
        ]\n                  } ]\n               }\n            } ],\n            \"expression\"
        : {\n               \"localId\" : \"57\",\n               \"type\" : \"List\",\n
        \              \"element\" : [ {\n                  \"localId\" : \"56\",\n
        \                 \"type\" : \"First\",\n                  \"source\" : {\n
        \                    \"localId\" : \"55\",\n                     \"type\"
        : \"Query\",\n                     \"source\" : [ {\n                        \"localId\"
        : \"38\",\n                        \"alias\" : \"Diagnosis\",\n                        \"expression\"
        : {\n                           \"localId\" : \"37\",\n                           \"name\"
        : \"Alcohol and Drug Dependence Diagnosis\",\n                           \"type\"
        : \"ExpressionRef\"\n                        }\n                     } ],\n
        \                    \"relationship\" : [ ],\n                     \"where\"
        : {\n                        \"localId\" : \"50\",\n                        \"type\"
        : \"In\",\n                        \"operand\" : [ {\n                           \"type\"
        : \"Start\",\n                           \"operand\" : {\n                              \"localId\"
        : \"40\",\n                              \"path\" : \"prevalencePeriod\",\n
        \                             \"scope\" : \"Diagnosis\",\n                              \"type\"
        : \"Property\"\n                           }\n                        }, {\n
        \                          \"localId\" : \"49\",\n                           \"name\"
        : \"First Alcohol Drug Dependence Interval\",\n                           \"type\"
        : \"ExpressionRef\"\n                        } ]\n                     },\n
        \                    \"sort\" : {\n                        \"localId\" : \"54\",\n
        \                       \"by\" : [ {\n                           \"localId\"
        : \"53\",\n                           \"direction\" : \"asc\",\n                           \"type\"
        : \"ByExpression\",\n                           \"expression\" : {\n                              \"localId\"
        : \"52\",\n                              \"type\" : \"Start\",\n                              \"operand\"
        : {\n                                 \"localId\" : \"51\",\n                                 \"name\"
        : \"prevalencePeriod\",\n                                 \"type\" : \"IdentifierRef\"\n
        \                             }\n                           }\n                        }
        ]\n                     }\n                  }\n               } ]\n            }\n
        \        }, {\n            \"localId\" : \"77\",\n            \"name\" : \"Valid
        Encounters\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"77\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"Valid Encounters\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"76\",\n                     \"s\" : [ {\n                        \"value\"
        : [ \"distinct\",\" ( \\r\\n\" ]\n                     }, {\n                        \"r\"
        : \"75\",\n                        \"s\" : [ {\n                           \"r\"
        : \"73\",\n                           \"s\" : [ {\n                              \"r\"
        : \"71\",\n                              \"s\" : [ {\n                                 \"r\"
        : \"69\",\n                                 \"s\" : [ {\n                                    \"r\"
        : \"67\",\n                                    \"s\" : [ {\n                                       \"r\"
        : \"65\",\n                                       \"s\" : [ {\n                                          \"r\"
        : \"63\",\n                                          \"s\" : [ {\n                                             \"r\"
        : \"61\",\n                                             \"s\" : [ {\n                                                \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                                             },
        {\n                                                \"s\" : [ {\n                                                   \"value\"
        : [ \"\\\"Office Visit\\\"\" ]\n                                                }
        ]\n                                             }, {\n                                                \"value\"
        : [ \"]\" ]\n                                             } ]\n                                          },
        {\n                                             \"value\" : [ \" \\r\\n union
        \" ]\n                                          }, {\n                                             \"r\"
        : \"62\",\n                                             \"s\" : [ {\n                                                \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                                             },
        {\n                                                \"s\" : [ {\n                                                   \"value\"
        : [ \"\\\"Emergency Department Visit\\\"\" ]\n                                                }
        ]\n                                             }, {\n                                                \"value\"
        : [ \"]\" ]\n                                             } ]\n                                          }
        ]\n                                       }, {\n                                          \"value\"
        : [ \" \\r\\n union \" ]\n                                       }, {\n                                          \"r\"
        : \"64\",\n                                          \"s\" : [ {\n                                             \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                                          },
        {\n                                             \"s\" : [ {\n                                                \"value\"
        : [ \"\\\"Detoxification Visit\\\"\" ]\n                                             }
        ]\n                                          }, {\n                                             \"value\"
        : [ \"]\" ]\n                                          } ]\n                                       }
        ]\n                                    }, {\n                                       \"value\"
        : [ \" \\r\\n union \" ]\n                                    }, {\n                                       \"r\"
        : \"66\",\n                                       \"s\" : [ {\n                                          \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                                       },
        {\n                                          \"s\" : [ {\n                                             \"value\"
        : [ \"\\\"Hospital Observation Care - Initial\\\"\" ]\n                                          }
        ]\n                                       }, {\n                                          \"value\"
        : [ \"]\" ]\n                                       } ]\n                                    }
        ]\n                                 }, {\n                                    \"value\"
        : [ \" \\r\\n union \" ]\n                                 }, {\n                                    \"r\"
        : \"68\",\n                                    \"s\" : [ {\n                                       \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                                    },
        {\n                                       \"s\" : [ {\n                                          \"value\"
        : [ \"\\\"Hospital Inpatient Visit - Initial\\\"\" ]\n                                       }
        ]\n                                    }, {\n                                       \"value\"
        : [ \"]\" ]\n                                    } ]\n                                 }
        ]\n                              }, {\n                                 \"value\"
        : [ \" \\r\\n union \" ]\n                              }, {\n                                 \"r\"
        : \"70\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                                 },
        {\n                                    \"s\" : [ {\n                                       \"value\"
        : [ \"\\\"Discharge Services - Hospital Inpatient Same Day Discharge\\\"\"
        ]\n                                    } ]\n                                 },
        {\n                                    \"value\" : [ \"]\" ]\n                                 }
        ]\n                              } ]\n                           }, {\n                              \"value\"
        : [ \" \\r\\n union \" ]\n                           }, {\n                              \"r\"
        : \"72\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                              },
        {\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"\\\"Discharge Services - Hospital Inpatient\\\"\" ]\n                                 }
        ]\n                              }, {\n                                 \"value\"
        : [ \"]\" ]\n                              } ]\n                           }
        ]\n                        }, {\n                           \"value\" : [
        \" \\r\\n union \" ]\n                        }, {\n                           \"r\"
        : \"74\",\n                           \"s\" : [ {\n                              \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                           },
        {\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"\\\"Face-to-Face Interaction\\\"\" ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \"]\" ]\n                           } ]\n                        } ]\n
        \                    }, {\n                        \"value\" : [ \" \\r\\n)\"
        ]\n                     } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"76\",\n
        \              \"type\" : \"Distinct\",\n               \"operand\" : {\n
        \                 \"localId\" : \"75\",\n                  \"type\" : \"Union\",\n
        \                 \"operand\" : [ {\n                     \"localId\" : \"73\",\n
        \                    \"type\" : \"Union\",\n                     \"operand\"
        : [ {\n                        \"localId\" : \"71\",\n                        \"type\"
        : \"Union\",\n                        \"operand\" : [ {\n                           \"localId\"
        : \"69\",\n                           \"type\" : \"Union\",\n                           \"operand\"
        : [ {\n                              \"localId\" : \"67\",\n                              \"type\"
        : \"Union\",\n                              \"operand\" : [ {\n                                 \"localId\"
        : \"65\",\n                                 \"type\" : \"Union\",\n                                 \"operand\"
        : [ {\n                                    \"localId\" : \"63\",\n                                    \"type\"
        : \"Union\",\n                                    \"operand\" : [ {\n                                       \"localId\"
        : \"61\",\n                                       \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n
        \                                      \"templateId\" : \"PositiveEncounterPerformed\",\n
        \                                      \"codeProperty\" : \"code\",\n                                       \"type\"
        : \"Retrieve\",\n                                       \"codes\" : {\n                                          \"name\"
        : \"Office Visit\",\n                                          \"type\" :
        \"ValueSetRef\"\n                                       }\n                                    },
        {\n                                       \"localId\" : \"62\",\n                                       \"dataType\"
        : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n                                       \"templateId\"
        : \"PositiveEncounterPerformed\",\n                                       \"codeProperty\"
        : \"code\",\n                                       \"type\" : \"Retrieve\",\n
        \                                      \"codes\" : {\n                                          \"name\"
        : \"Emergency Department Visit\",\n                                          \"type\"
        : \"ValueSetRef\"\n                                       }\n                                    }
        ]\n                                 }, {\n                                    \"localId\"
        : \"64\",\n                                    \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n
        \                                   \"templateId\" : \"PositiveEncounterPerformed\",\n
        \                                   \"codeProperty\" : \"code\",\n                                    \"type\"
        : \"Retrieve\",\n                                    \"codes\" : {\n                                       \"name\"
        : \"Detoxification Visit\",\n                                       \"type\"
        : \"ValueSetRef\"\n                                    }\n                                 }
        ]\n                              }, {\n                                 \"localId\"
        : \"66\",\n                                 \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n
        \                                \"templateId\" : \"PositiveEncounterPerformed\",\n
        \                                \"codeProperty\" : \"code\",\n                                 \"type\"
        : \"Retrieve\",\n                                 \"codes\" : {\n                                    \"name\"
        : \"Hospital Observation Care - Initial\",\n                                    \"type\"
        : \"ValueSetRef\"\n                                 }\n                              }
        ]\n                           }, {\n                              \"localId\"
        : \"68\",\n                              \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n
        \                             \"templateId\" : \"PositiveEncounterPerformed\",\n
        \                             \"codeProperty\" : \"code\",\n                              \"type\"
        : \"Retrieve\",\n                              \"codes\" : {\n                                 \"name\"
        : \"Hospital Inpatient Visit - Initial\",\n                                 \"type\"
        : \"ValueSetRef\"\n                              }\n                           }
        ]\n                        }, {\n                           \"localId\" :
        \"70\",\n                           \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n
        \                          \"templateId\" : \"PositiveEncounterPerformed\",\n
        \                          \"codeProperty\" : \"code\",\n                           \"type\"
        : \"Retrieve\",\n                           \"codes\" : {\n                              \"name\"
        : \"Discharge Services - Hospital Inpatient Same Day Discharge\",\n                              \"type\"
        : \"ValueSetRef\"\n                           }\n                        }
        ]\n                     }, {\n                        \"localId\" : \"72\",\n
        \                       \"dataType\" : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n
        \                       \"templateId\" : \"PositiveEncounterPerformed\",\n
        \                       \"codeProperty\" : \"code\",\n                        \"type\"
        : \"Retrieve\",\n                        \"codes\" : {\n                           \"name\"
        : \"Discharge Services - Hospital Inpatient\",\n                           \"type\"
        : \"ValueSetRef\"\n                        }\n                     } ]\n                  },
        {\n                     \"localId\" : \"74\",\n                     \"dataType\"
        : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n                     \"templateId\"
        : \"PositiveEncounterPerformed\",\n                     \"codeProperty\" :
        \"code\",\n                     \"type\" : \"Retrieve\",\n                     \"codes\"
        : {\n                        \"name\" : \"Face-to-Face Interaction\",\n                        \"type\"
        : \"ValueSetRef\"\n                     }\n                  } ]\n               }\n
        \           }\n         }, {\n            \"localId\" : \"85\",\n            \"name\"
        : \"Encounters During Measurement Period\",\n            \"context\" : \"Patient\",\n
        \           \"accessLevel\" : \"Public\",\n            \"annotation\" : [
        {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n                  \"r\"
        : \"85\",\n                  \"s\" : [ {\n                     \"value\" :
        [ \"define \",\"\\\"Encounters During Measurement Period\\\"\",\": \" ]\n
        \                 }, {\n                     \"r\" : \"84\",\n                     \"s\"
        : [ {\n                        \"s\" : [ {\n                           \"r\"
        : \"79\",\n                           \"s\" : [ {\n                              \"r\"
        : \"78\",\n                              \"s\" : [ {\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"\\\"Valid Encounters\\\"\"
        ]\n                                 } ]\n                              } ]\n
        \                          }, {\n                              \"value\" :
        [ \" \",\"Encounter\" ]\n                           } ]\n                        }
        ]\n                     }, {\n                        \"value\" : [ \" \\r\\n
        \ \" ]\n                     }, {\n                        \"r\" : \"83\",\n
        \                       \"s\" : [ {\n                           \"value\"
        : [ \"where \" ]\n                        }, {\n                           \"r\"
        : \"83\",\n                           \"s\" : [ {\n                              \"r\"
        : \"81\",\n                              \"s\" : [ {\n                                 \"r\"
        : \"80\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"Encounter\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \".\" ]\n                              },
        {\n                                 \"r\" : \"81\",\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"relevantPeriod\"
        ]\n                                 } ]\n                              } ]\n
        \                          }, {\n                              \"value\" :
        [ \" \",\"during\",\" \" ]\n                           }, {\n                              \"r\"
        : \"82\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"\\\"Measurement Period\\\"\" ]\n                              } ]\n
        \                          } ]\n                        } ]\n                     }
        ]\n                  } ]\n               }\n            } ],\n            \"expression\"
        : {\n               \"localId\" : \"84\",\n               \"type\" : \"Query\",\n
        \              \"source\" : [ {\n                  \"localId\" : \"79\",\n
        \                 \"alias\" : \"Encounter\",\n                  \"expression\"
        : {\n                     \"localId\" : \"78\",\n                     \"name\"
        : \"Valid Encounters\",\n                     \"type\" : \"ExpressionRef\"\n
        \                 }\n               } ],\n               \"relationship\"
        : [ ],\n               \"where\" : {\n                  \"localId\" : \"83\",\n
        \                 \"type\" : \"IncludedIn\",\n                  \"operand\"
        : [ {\n                     \"localId\" : \"81\",\n                     \"path\"
        : \"relevantPeriod\",\n                     \"scope\" : \"Encounter\",\n                     \"type\"
        : \"Property\"\n                  }, {\n                     \"localId\" :
        \"82\",\n                     \"name\" : \"Measurement Period\",\n                     \"type\"
        : \"ParameterRef\"\n                  } ]\n               }\n            }\n
        \        }, {\n            \"localId\" : \"95\",\n            \"name\" : \"First
        Alcohol Drug Dependence Dx\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"95\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"First Alcohol Drug Dependence Dx\\\"\",\": \" ]\n                  },
        {\n                     \"r\" : \"94\",\n                     \"s\" : [ {\n
        \                       \"s\" : [ {\n                           \"r\" : \"60\",\n
        \                          \"s\" : [ {\n                              \"r\"
        : \"59\",\n                              \"s\" : [ {\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"\\\"First Alcohol
        Drug Dependence\\\"\" ]\n                                 } ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \",\"Diagnosis\" ]\n                           } ]\n                        }
        ]\n                     }, {\n                        \"value\" : [ \" \\r\\n
        \ \" ]\n                     }, {\n                        \"r\" : \"93\",\n
        \                       \"s\" : [ {\n                           \"value\"
        : [ \"with \" ]\n                        }, {\n                           \"r\"
        : \"87\",\n                           \"s\" : [ {\n                              \"r\"
        : \"86\",\n                              \"s\" : [ {\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"\\\"Encounters
        During Measurement Period\\\"\" ]\n                                 } ]\n
        \                             } ]\n                           }, {\n                              \"value\"
        : [ \" \",\"Encounter\" ]\n                           } ]\n                        },
        {\n                           \"value\" : [ \" \\r\\n  such that \" ]\n                        },
        {\n                           \"r\" : \"92\",\n                           \"s\"
        : [ {\n                              \"r\" : \"89\",\n                              \"s\"
        : [ {\n                                 \"r\" : \"88\",\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"Diagnosis\" ]\n
        \                                } ]\n                              }, {\n
        \                                \"value\" : [ \".\" ]\n                              },
        {\n                                 \"r\" : \"89\",\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"prevalencePeriod\"
        ]\n                                 } ]\n                              } ]\n
        \                          }, {\n                              \"value\" :
        [ \" \",\"starts during\",\" \" ]\n                           }, {\n                              \"r\"
        : \"91\",\n                              \"s\" : [ {\n                                 \"r\"
        : \"90\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"Encounter\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \".\" ]\n                              },
        {\n                                 \"r\" : \"91\",\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"relevantPeriod\"
        ]\n                                 } ]\n                              } ]\n
        \                          } ]\n                        } ]\n                     }
        ]\n                  } ]\n               }\n            } ],\n            \"expression\"
        : {\n               \"localId\" : \"94\",\n               \"type\" : \"Query\",\n
        \              \"source\" : [ {\n                  \"localId\" : \"60\",\n
        \                 \"alias\" : \"Diagnosis\",\n                  \"expression\"
        : {\n                     \"localId\" : \"59\",\n                     \"name\"
        : \"First Alcohol Drug Dependence\",\n                     \"type\" : \"ExpressionRef\"\n
        \                 }\n               } ],\n               \"relationship\"
        : [ {\n                  \"localId\" : \"93\",\n                  \"alias\"
        : \"Encounter\",\n                  \"type\" : \"With\",\n                  \"expression\"
        : {\n                     \"localId\" : \"86\",\n                     \"name\"
        : \"Encounters During Measurement Period\",\n                     \"type\"
        : \"ExpressionRef\"\n                  },\n                  \"suchThat\"
        : {\n                     \"localId\" : \"92\",\n                     \"type\"
        : \"In\",\n                     \"operand\" : [ {\n                        \"type\"
        : \"Start\",\n                        \"operand\" : {\n                           \"localId\"
        : \"89\",\n                           \"path\" : \"prevalencePeriod\",\n                           \"scope\"
        : \"Diagnosis\",\n                           \"type\" : \"Property\"\n                        }\n
        \                    }, {\n                        \"localId\" : \"91\",\n
        \                       \"path\" : \"relevantPeriod\",\n                        \"scope\"
        : \"Encounter\",\n                        \"type\" : \"Property\"\n                     }
        ]\n                  }\n               } ]\n            }\n         }, {\n
        \           \"localId\" : \"99\",\n            \"name\" : \"Initial Population
        1\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"99\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"Initial Population 1\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"98\",\n                     \"s\" : [ {\n                        \"r\"
        : \"34\",\n                        \"s\" : [ {\n                           \"value\"
        : [ \"\\\"In Demographic\\\"\" ]\n                        } ]\n                     },
        {\n                        \"value\" : [ \" \\r\\n and \" ]\n                     },
        {\n                        \"r\" : \"97\",\n                        \"s\"
        : [ {\n                           \"value\" : [ \"exists \" ]\n                        },
        {\n                           \"r\" : \"96\",\n                           \"s\"
        : [ {\n                              \"value\" : [ \"(\" ]\n                           },
        {\n                              \"r\" : \"96\",\n                              \"s\"
        : [ {\n                                 \"value\" : [ \"\\\"First Alcohol
        Drug Dependence Dx\\\"\" ]\n                              } ]\n                           },
        {\n                              \"value\" : [ \")\" ]\n                           }
        ]\n                        } ]\n                     } ]\n                  }
        ]\n               }\n            } ],\n            \"expression\" : {\n               \"localId\"
        : \"98\",\n               \"type\" : \"And\",\n               \"operand\"
        : [ {\n                  \"localId\" : \"34\",\n                  \"name\"
        : \"In Demographic\",\n                  \"type\" : \"ExpressionRef\"\n               },
        {\n                  \"localId\" : \"97\",\n                  \"type\" : \"Exists\",\n
        \                 \"operand\" : {\n                     \"localId\" : \"96\",\n
        \                    \"name\" : \"First Alcohol Drug Dependence Dx\",\n                     \"type\"
        : \"ExpressionRef\"\n                  }\n               } ]\n            }\n
        \        }, {\n            \"localId\" : \"101\",\n            \"name\" :
        \"Denominator 1\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"101\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"Denominator 1\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"100\",\n                     \"s\" : [ {\n                        \"value\"
        : [ \"\\\"Initial Population 1\\\"\" ]\n                     } ]\n                  }
        ]\n               }\n            } ],\n            \"expression\" : {\n               \"localId\"
        : \"100\",\n               \"name\" : \"Initial Population 1\",\n               \"type\"
        : \"ExpressionRef\"\n            }\n         }, {\n            \"localId\"
        : \"105\",\n            \"name\" : \"Drug Dependence Treatment Or Psych Encounters\",\n
        \           \"context\" : \"Patient\",\n            \"accessLevel\" : \"Public\",\n
        \           \"annotation\" : [ {\n               \"type\" : \"Annotation\",\n
        \              \"s\" : {\n                  \"r\" : \"105\",\n                  \"s\"
        : [ {\n                     \"value\" : [ \"define \",\"\\\"Drug Dependence
        Treatment Or Psych Encounters\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"104\",\n                     \"s\" : [ {\n                        \"r\"
        : \"102\",\n                        \"s\" : [ {\n                           \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                        },
        {\n                           \"s\" : [ {\n                              \"value\"
        : [ \"\\\"Alcohol and Drug Dependence Treatment\\\"\" ]\n                           }
        ]\n                        }, {\n                           \"value\" : [
        \"]\" ]\n                        } ]\n                     }, {\n                        \"value\"
        : [ \" \\r\\n union \" ]\n                     }, {\n                        \"r\"
        : \"103\",\n                        \"s\" : [ {\n                           \"value\"
        : [ \"[\",\"\\\"Encounter, Performed\\\"\",\": \" ]\n                        },
        {\n                           \"s\" : [ {\n                              \"value\"
        : [ \"\\\"Psych Visit - Psychotherapy\\\"\" ]\n                           }
        ]\n                        }, {\n                           \"value\" : [
        \"]\" ]\n                        } ]\n                     } ]\n                  }
        ]\n               }\n            } ],\n            \"expression\" : {\n               \"localId\"
        : \"104\",\n               \"type\" : \"Union\",\n               \"operand\"
        : [ {\n                  \"localId\" : \"102\",\n                  \"dataType\"
        : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n                  \"templateId\"
        : \"PositiveEncounterPerformed\",\n                  \"codeProperty\" : \"code\",\n
        \                 \"type\" : \"Retrieve\",\n                  \"codes\" :
        {\n                     \"name\" : \"Alcohol and Drug Dependence Treatment\",\n
        \                    \"type\" : \"ValueSetRef\"\n                  }\n               },
        {\n                  \"localId\" : \"103\",\n                  \"dataType\"
        : \"{urn:healthit-gov:qdm:v5_0_draft}PositiveEncounterPerformed\",\n                  \"templateId\"
        : \"PositiveEncounterPerformed\",\n                  \"codeProperty\" : \"code\",\n
        \                 \"type\" : \"Retrieve\",\n                  \"codes\" :
        {\n                     \"name\" : \"Psych Visit - Psychotherapy\",\n                     \"type\"
        : \"ValueSetRef\"\n                  }\n               } ]\n            }\n
        \        }, {\n            \"localId\" : \"119\",\n            \"name\" :
        \"Drug Dependence Treatment Or Psych Visit\",\n            \"context\" : \"Patient\",\n
        \           \"accessLevel\" : \"Public\",\n            \"annotation\" : [
        {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n                  \"r\"
        : \"119\",\n                  \"s\" : [ {\n                     \"value\"
        : [ \"define \",\"\\\"Drug Dependence Treatment Or Psych Visit\\\"\",\": \"
        ]\n                  }, {\n                     \"r\" : \"118\",\n                     \"s\"
        : [ {\n                        \"s\" : [ {\n                           \"r\"
        : \"107\",\n                           \"s\" : [ {\n                              \"r\"
        : \"106\",\n                              \"s\" : [ {\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"\\\"Drug Dependence
        Treatment Or Psych Encounters\\\"\" ]\n                                 }
        ]\n                              } ]\n                           }, {\n                              \"value\"
        : [ \" \",\"Encounter\" ]\n                           } ]\n                        }
        ]\n                     }, {\n                        \"value\" : [ \" \\r\\n
        \    \" ]\n                     }, {\n                        \"r\" : \"117\",\n
        \                       \"s\" : [ {\n                           \"value\"
        : [ \"with \" ]\n                        }, {\n                           \"r\"
        : \"109\",\n                           \"s\" : [ {\n                              \"r\"
        : \"108\",\n                              \"s\" : [ {\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"\\\"First Alcohol
        Drug Dependence Dx\\\"\" ]\n                                 } ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \",\"Diagnosis\" ]\n                           } ]\n                        },
        {\n                           \"value\" : [ \" \\r\\n     such that \" ]\n
        \                       }, {\n                           \"r\" : \"116\",\n
        \                          \"s\" : [ {\n                              \"r\"
        : \"111\",\n                              \"s\" : [ {\n                                 \"r\"
        : \"110\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"Diagnosis\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \".\" ]\n                              },
        {\n                                 \"r\" : \"111\",\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"prevalencePeriod\"
        ]\n                                 } ]\n                              } ]\n
        \                          }, {\n                              \"value\" :
        [ \" \" ]\n                           }, {\n                              \"r\"
        : \"116\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"starts \" ]\n                              }, {\n                                 \"r\"
        : \"115\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"14 \",\"days\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \" or less after\" ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \" ]\n                           }, {\n                              \"r\"
        : \"114\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"start of \" ]\n                              }, {\n                                 \"r\"
        : \"113\",\n                                 \"s\" : [ {\n                                    \"r\"
        : \"112\",\n                                    \"s\" : [ {\n                                       \"value\"
        : [ \"Encounter\" ]\n                                    } ]\n                                 },
        {\n                                    \"value\" : [ \".\" ]\n                                 },
        {\n                                    \"r\" : \"113\",\n                                    \"s\"
        : [ {\n                                       \"value\" : [ \"relevantPeriod\"
        ]\n                                    } ]\n                                 }
        ]\n                              } ]\n                           } ]\n                        }
        ]\n                     } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"118\",\n
        \              \"type\" : \"Query\",\n               \"source\" : [ {\n                  \"localId\"
        : \"107\",\n                  \"alias\" : \"Encounter\",\n                  \"expression\"
        : {\n                     \"localId\" : \"106\",\n                     \"name\"
        : \"Drug Dependence Treatment Or Psych Encounters\",\n                     \"type\"
        : \"ExpressionRef\"\n                  }\n               } ],\n               \"relationship\"
        : [ {\n                  \"localId\" : \"117\",\n                  \"alias\"
        : \"Diagnosis\",\n                  \"type\" : \"With\",\n                  \"expression\"
        : {\n                     \"localId\" : \"108\",\n                     \"name\"
        : \"First Alcohol Drug Dependence Dx\",\n                     \"type\" : \"ExpressionRef\"\n
        \                 },\n                  \"suchThat\" : {\n                     \"localId\"
        : \"116\",\n                     \"type\" : \"In\",\n                     \"operand\"
        : [ {\n                        \"type\" : \"Start\",\n                        \"operand\"
        : {\n                           \"localId\" : \"111\",\n                           \"path\"
        : \"prevalencePeriod\",\n                           \"scope\" : \"Diagnosis\",\n
        \                          \"type\" : \"Property\"\n                        }\n
        \                    }, {\n                        \"lowClosed\" : false,\n
        \                       \"highClosed\" : true,\n                        \"type\"
        : \"Interval\",\n                        \"low\" : {\n                           \"localId\"
        : \"114\",\n                           \"type\" : \"Start\",\n                           \"operand\"
        : {\n                              \"localId\" : \"113\",\n                              \"path\"
        : \"relevantPeriod\",\n                              \"scope\" : \"Encounter\",\n
        \                             \"type\" : \"Property\"\n                           }\n
        \                       },\n                        \"high\" : {\n                           \"type\"
        : \"Add\",\n                           \"operand\" : [ {\n                              \"localId\"
        : \"114\",\n                              \"type\" : \"Start\",\n                              \"operand\"
        : {\n                                 \"localId\" : \"113\",\n                                 \"path\"
        : \"relevantPeriod\",\n                                 \"scope\" : \"Encounter\",\n
        \                                \"type\" : \"Property\"\n                              }\n
        \                          }, {\n                              \"localId\"
        : \"115\",\n                              \"value\" : 14,\n                              \"unit\"
        : \"days\",\n                              \"type\" : \"Quantity\"\n                           }
        ]\n                        }\n                     } ]\n                  }\n
        \              } ]\n            }\n         }, {\n            \"localId\"
        : \"122\",\n            \"name\" : \"Numerator 1\",\n            \"context\"
        : \"Patient\",\n            \"accessLevel\" : \"Public\",\n            \"annotation\"
        : [ {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n
        \                 \"r\" : \"122\",\n                  \"s\" : [ {\n                     \"value\"
        : [ \"define \",\"\\\"Numerator 1\\\"\",\": \" ]\n                  }, {\n
        \                    \"r\" : \"121\",\n                     \"s\" : [ {\n
        \                       \"value\" : [ \"exists \" ]\n                     },
        {\n                        \"r\" : \"120\",\n                        \"s\"
        : [ {\n                           \"value\" : [ \"(\" ]\n                        },
        {\n                           \"r\" : \"120\",\n                           \"s\"
        : [ {\n                              \"value\" : [ \"\\\"Drug Dependence Treatment
        Or Psych Visit\\\"\" ]\n                           } ]\n                        },
        {\n                           \"value\" : [ \")\" ]\n                        }
        ]\n                     } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"121\",\n
        \              \"type\" : \"Exists\",\n               \"operand\" : {\n                  \"localId\"
        : \"120\",\n                  \"name\" : \"Drug Dependence Treatment Or Psych
        Visit\",\n                  \"type\" : \"ExpressionRef\"\n               }\n
        \           }\n         }, {\n            \"localId\" : \"134\",\n            \"name\"
        : \"Stratification 1_1\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"134\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"Stratification 1_1\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"133\",\n                     \"s\" : [ {\n                        \"r\"
        : \"127\",\n                        \"s\" : [ {\n                           \"r\"
        : \"125\",\n                           \"s\" : [ {\n                              \"value\"
        : [ \"AgeInYearsAt\",\"(\" ]\n                           }, {\n                              \"r\"
        : \"124\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"start of \" ]\n                              }, {\n                                 \"r\"
        : \"123\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"\\\"Measurement Period\\\"\" ]\n                                 } ]\n
        \                             } ]\n                           }, {\n                              \"value\"
        : [ \")\" ]\n                           } ]\n                        }, {\n
        \                          \"value\" : [ \" \",\">=\",\" \",\"13\" ]\n                        }
        ]\n                     }, {\n                        \"value\" : [ \" \\r\\n
        \    and \" ]\n                     }, {\n                        \"r\" :
        \"132\",\n                        \"s\" : [ {\n                           \"r\"
        : \"130\",\n                           \"s\" : [ {\n                              \"value\"
        : [ \"AgeInYearsAt\",\"(\" ]\n                           }, {\n                              \"r\"
        : \"129\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"start of \" ]\n                              }, {\n                                 \"r\"
        : \"128\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"\\\"Measurement Period\\\"\" ]\n                                 } ]\n
        \                             } ]\n                           }, {\n                              \"value\"
        : [ \")\" ]\n                           } ]\n                        }, {\n
        \                          \"value\" : [ \" \",\"<\",\" \",\"18\" ]\n                        }
        ]\n                     } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"133\",\n
        \              \"type\" : \"And\",\n               \"operand\" : [ {\n                  \"localId\"
        : \"127\",\n                  \"type\" : \"GreaterOrEqual\",\n                  \"operand\"
        : [ {\n                     \"localId\" : \"125\",\n                     \"precision\"
        : \"Year\",\n                     \"type\" : \"CalculateAgeAt\",\n                     \"operand\"
        : [ {\n                        \"path\" : \"birthDatetime\",\n                        \"type\"
        : \"Property\",\n                        \"source\" : {\n                           \"name\"
        : \"Patient\",\n                           \"type\" : \"ExpressionRef\"\n
        \                       }\n                     }, {\n                        \"localId\"
        : \"124\",\n                        \"type\" : \"Start\",\n                        \"operand\"
        : {\n                           \"localId\" : \"123\",\n                           \"name\"
        : \"Measurement Period\",\n                           \"type\" : \"ParameterRef\"\n
        \                       }\n                     } ]\n                  },
        {\n                     \"localId\" : \"126\",\n                     \"valueType\"
        : \"{urn:hl7-org:elm-types:r1}Integer\",\n                     \"value\" :
        \"13\",\n                     \"type\" : \"Literal\"\n                  }
        ]\n               }, {\n                  \"localId\" : \"132\",\n                  \"type\"
        : \"Less\",\n                  \"operand\" : [ {\n                     \"localId\"
        : \"130\",\n                     \"precision\" : \"Year\",\n                     \"type\"
        : \"CalculateAgeAt\",\n                     \"operand\" : [ {\n                        \"path\"
        : \"birthDatetime\",\n                        \"type\" : \"Property\",\n                        \"source\"
        : {\n                           \"name\" : \"Patient\",\n                           \"type\"
        : \"ExpressionRef\"\n                        }\n                     }, {\n
        \                       \"localId\" : \"129\",\n                        \"type\"
        : \"Start\",\n                        \"operand\" : {\n                           \"localId\"
        : \"128\",\n                           \"name\" : \"Measurement Period\",\n
        \                          \"type\" : \"ParameterRef\"\n                        }\n
        \                    } ]\n                  }, {\n                     \"localId\"
        : \"131\",\n                     \"valueType\" : \"{urn:hl7-org:elm-types:r1}Integer\",\n
        \                    \"value\" : \"18\",\n                     \"type\" :
        \"Literal\"\n                  } ]\n               } ]\n            }\n         },
        {\n            \"localId\" : \"140\",\n            \"name\" : \"Stratification
        1_2\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"140\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"Stratification 1_2\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"139\",\n                     \"s\" : [ {\n                        \"r\"
        : \"137\",\n                        \"s\" : [ {\n                           \"value\"
        : [ \"AgeInYearsAt\",\"(\" ]\n                        }, {\n                           \"r\"
        : \"136\",\n                           \"s\" : [ {\n                              \"value\"
        : [ \"start of \" ]\n                           }, {\n                              \"r\"
        : \"135\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"\\\"Measurement Period\\\"\" ]\n                              } ]\n
        \                          } ]\n                        }, {\n                           \"value\"
        : [ \")\" ]\n                        } ]\n                     }, {\n                        \"value\"
        : [ \" \",\">=\",\" \",\"18\" ]\n                     } ]\n                  }
        ]\n               }\n            } ],\n            \"expression\" : {\n               \"localId\"
        : \"139\",\n               \"type\" : \"GreaterOrEqual\",\n               \"operand\"
        : [ {\n                  \"localId\" : \"137\",\n                  \"precision\"
        : \"Year\",\n                  \"type\" : \"CalculateAgeAt\",\n                  \"operand\"
        : [ {\n                     \"path\" : \"birthDatetime\",\n                     \"type\"
        : \"Property\",\n                     \"source\" : {\n                        \"name\"
        : \"Patient\",\n                        \"type\" : \"ExpressionRef\"\n                     }\n
        \                 }, {\n                     \"localId\" : \"136\",\n                     \"type\"
        : \"Start\",\n                     \"operand\" : {\n                        \"localId\"
        : \"135\",\n                        \"name\" : \"Measurement Period\",\n                        \"type\"
        : \"ParameterRef\"\n                     }\n                  } ]\n               },
        {\n                  \"localId\" : \"138\",\n                  \"valueType\"
        : \"{urn:hl7-org:elm-types:r1}Integer\",\n                  \"value\" : \"18\",\n
        \                 \"type\" : \"Literal\"\n               } ]\n            }\n
        \        }, {\n            \"localId\" : \"145\",\n            \"name\" :
        \"Initial Population 2\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"145\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"Initial Population 2\\\"\",\": \" ]\n                  }, {\n                     \"r\"
        : \"144\",\n                     \"s\" : [ {\n                        \"r\"
        : \"141\",\n                        \"s\" : [ {\n                           \"value\"
        : [ \"\\\"In Demographic\\\"\" ]\n                        } ]\n                     },
        {\n                        \"value\" : [ \" \\r\\nand \" ]\n                     },
        {\n                        \"r\" : \"143\",\n                        \"s\"
        : [ {\n                           \"value\" : [ \"exists \" ]\n                        },
        {\n                           \"r\" : \"142\",\n                           \"s\"
        : [ {\n                              \"value\" : [ \"(\" ]\n                           },
        {\n                              \"r\" : \"142\",\n                              \"s\"
        : [ {\n                                 \"value\" : [ \"\\\"First Alcohol
        Drug Dependence Dx\\\"\" ]\n                              } ]\n                           },
        {\n                              \"value\" : [ \")\" ]\n                           }
        ]\n                        } ]\n                     } ]\n                  }
        ]\n               }\n            } ],\n            \"expression\" : {\n               \"localId\"
        : \"144\",\n               \"type\" : \"And\",\n               \"operand\"
        : [ {\n                  \"localId\" : \"141\",\n                  \"name\"
        : \"In Demographic\",\n                  \"type\" : \"ExpressionRef\"\n               },
        {\n                  \"localId\" : \"143\",\n                  \"type\" :
        \"Exists\",\n                  \"operand\" : {\n                     \"localId\"
        : \"142\",\n                     \"name\" : \"First Alcohol Drug Dependence
        Dx\",\n                     \"type\" : \"ExpressionRef\"\n                  }\n
        \              } ]\n            }\n         }, {\n            \"localId\"
        : \"147\",\n            \"name\" : \"Denominator 2\",\n            \"context\"
        : \"Patient\",\n            \"accessLevel\" : \"Public\",\n            \"annotation\"
        : [ {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n
        \                 \"r\" : \"147\",\n                  \"s\" : [ {\n                     \"value\"
        : [ \"define \",\"\\\"Denominator 2\\\"\",\": \" ]\n                  }, {\n
        \                    \"r\" : \"146\",\n                     \"s\" : [ {\n
        \                       \"value\" : [ \"\\\"Initial Population 2\\\"\" ]\n
        \                    } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"146\",\n
        \              \"name\" : \"Initial Population 2\",\n               \"type\"
        : \"ExpressionRef\"\n            }\n         }, {\n            \"localId\"
        : \"161\",\n            \"name\" : \"Denominator Exclusions 1\",\n            \"context\"
        : \"Patient\",\n            \"accessLevel\" : \"Public\",\n            \"annotation\"
        : [ {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n
        \                 \"r\" : \"161\",\n                  \"s\" : [ {\n                     \"value\"
        : [ \"define \",\"\\\"Denominator Exclusions 1\\\"\",\": \" ]\n                  },
        {\n                     \"r\" : \"160\",\n                     \"s\" : [ {\n
        \                       \"s\" : [ {\n                           \"r\" : \"149\",\n
        \                          \"s\" : [ {\n                              \"r\"
        : \"148\",\n                              \"s\" : [ {\n                                 \"r\"
        : \"148\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"[\",\"\\\"Diagnosis\\\"\",\": \" ]\n                                 },
        {\n                                    \"s\" : [ {\n                                       \"value\"
        : [ \"\\\"Alcohol and Drug Dependence\\\"\" ]\n                                    }
        ]\n                                 }, {\n                                    \"value\"
        : [ \"]\" ]\n                                 } ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \",\"Diagnosis\" ]\n                           } ]\n                        }
        ]\n                     }, {\n                        \"value\" : [ \" \\r\\n
        \    \" ]\n                     }, {\n                        \"r\" : \"159\",\n
        \                       \"s\" : [ {\n                           \"value\"
        : [ \"with \" ]\n                        }, {\n                           \"r\"
        : \"151\",\n                           \"s\" : [ {\n                              \"r\"
        : \"150\",\n                              \"s\" : [ {\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"\\\"First Alcohol
        Drug Dependence Dx\\\"\" ]\n                                 } ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \",\"FirstDiagnosis\" ]\n                           } ]\n                        },
        {\n                           \"value\" : [ \" \\r\\n       such that \" ]\n
        \                       }, {\n                           \"r\" : \"158\",\n
        \                          \"s\" : [ {\n                              \"r\"
        : \"153\",\n                              \"s\" : [ {\n                                 \"r\"
        : \"152\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"Diagnosis\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \".\" ]\n                              },
        {\n                                 \"r\" : \"153\",\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"prevalencePeriod\"
        ]\n                                 } ]\n                              } ]\n
        \                          }, {\n                              \"value\" :
        [ \" \" ]\n                           }, {\n                              \"r\"
        : \"158\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"starts \" ]\n                              }, {\n                                 \"r\"
        : \"157\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"60 \",\"days\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \" or less after\" ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \" ]\n                           }, {\n                              \"r\"
        : \"156\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"start of \" ]\n                              }, {\n                                 \"r\"
        : \"155\",\n                                 \"s\" : [ {\n                                    \"r\"
        : \"154\",\n                                    \"s\" : [ {\n                                       \"value\"
        : [ \"FirstDiagnosis\" ]\n                                    } ]\n                                 },
        {\n                                    \"value\" : [ \".\" ]\n                                 },
        {\n                                    \"r\" : \"155\",\n                                    \"s\"
        : [ {\n                                       \"value\" : [ \"prevalencePeriod\"
        ]\n                                    } ]\n                                 }
        ]\n                              } ]\n                           } ]\n                        }
        ]\n                     } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"160\",\n
        \              \"type\" : \"Query\",\n               \"source\" : [ {\n                  \"localId\"
        : \"149\",\n                  \"alias\" : \"Diagnosis\",\n                  \"expression\"
        : {\n                     \"localId\" : \"148\",\n                     \"dataType\"
        : \"{urn:healthit-gov:qdm:v5_0_draft}Diagnosis\",\n                     \"type\"
        : \"Retrieve\",\n                     \"codes\" : {\n                        \"name\"
        : \"Alcohol and Drug Dependence\",\n                        \"type\" : \"ValueSetRef\"\n
        \                    }\n                  }\n               } ],\n               \"relationship\"
        : [ {\n                  \"localId\" : \"159\",\n                  \"alias\"
        : \"FirstDiagnosis\",\n                  \"type\" : \"With\",\n                  \"expression\"
        : {\n                     \"localId\" : \"150\",\n                     \"name\"
        : \"First Alcohol Drug Dependence Dx\",\n                     \"type\" : \"ExpressionRef\"\n
        \                 },\n                  \"suchThat\" : {\n                     \"localId\"
        : \"158\",\n                     \"type\" : \"In\",\n                     \"operand\"
        : [ {\n                        \"type\" : \"Start\",\n                        \"operand\"
        : {\n                           \"localId\" : \"153\",\n                           \"path\"
        : \"prevalencePeriod\",\n                           \"scope\" : \"Diagnosis\",\n
        \                          \"type\" : \"Property\"\n                        }\n
        \                    }, {\n                        \"lowClosed\" : false,\n
        \                       \"highClosed\" : true,\n                        \"type\"
        : \"Interval\",\n                        \"low\" : {\n                           \"localId\"
        : \"156\",\n                           \"type\" : \"Start\",\n                           \"operand\"
        : {\n                              \"localId\" : \"155\",\n                              \"path\"
        : \"prevalencePeriod\",\n                              \"scope\" : \"FirstDiagnosis\",\n
        \                             \"type\" : \"Property\"\n                           }\n
        \                       },\n                        \"high\" : {\n                           \"type\"
        : \"Add\",\n                           \"operand\" : [ {\n                              \"localId\"
        : \"156\",\n                              \"type\" : \"Start\",\n                              \"operand\"
        : {\n                                 \"localId\" : \"155\",\n                                 \"path\"
        : \"prevalencePeriod\",\n                                 \"scope\" : \"FirstDiagnosis\",\n
        \                                \"type\" : \"Property\"\n                              }\n
        \                          }, {\n                              \"localId\"
        : \"157\",\n                              \"value\" : 60,\n                              \"unit\"
        : \"days\",\n                              \"type\" : \"Quantity\"\n                           }
        ]\n                        }\n                     } ]\n                  }\n
        \              } ]\n            }\n         }, {\n            \"localId\"
        : \"175\",\n            \"name\" : \"Denominator Exclusions 2\",\n            \"context\"
        : \"Patient\",\n            \"accessLevel\" : \"Public\",\n            \"annotation\"
        : [ {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n
        \                 \"r\" : \"175\",\n                  \"s\" : [ {\n                     \"value\"
        : [ \"define \",\"\\\"Denominator Exclusions 2\\\"\",\": \" ]\n                  },
        {\n                     \"r\" : \"174\",\n                     \"s\" : [ {\n
        \                       \"s\" : [ {\n                           \"r\" : \"163\",\n
        \                          \"s\" : [ {\n                              \"r\"
        : \"162\",\n                              \"s\" : [ {\n                                 \"r\"
        : \"162\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"[\",\"\\\"Diagnosis\\\"\",\": \" ]\n                                 },
        {\n                                    \"s\" : [ {\n                                       \"value\"
        : [ \"\\\"Alcohol and Drug Dependence\\\"\" ]\n                                    }
        ]\n                                 }, {\n                                    \"value\"
        : [ \"]\" ]\n                                 } ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \",\"Diagnosis\" ]\n                           } ]\n                        }
        ]\n                     }, {\n                        \"value\" : [ \" \\r\\n
        \    \" ]\n                     }, {\n                        \"r\" : \"173\",\n
        \                       \"s\" : [ {\n                           \"value\"
        : [ \"with \" ]\n                        }, {\n                           \"r\"
        : \"165\",\n                           \"s\" : [ {\n                              \"r\"
        : \"164\",\n                              \"s\" : [ {\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"\\\"First Alcohol
        Drug Dependence Dx\\\"\" ]\n                                 } ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \",\"FirstDiagnosis\" ]\n                           } ]\n                        },
        {\n                           \"value\" : [ \" \\r\\n       such that \" ]\n
        \                       }, {\n                           \"r\" : \"172\",\n
        \                          \"s\" : [ {\n                              \"r\"
        : \"167\",\n                              \"s\" : [ {\n                                 \"r\"
        : \"166\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"Diagnosis\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \".\" ]\n                              },
        {\n                                 \"r\" : \"167\",\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"prevalencePeriod\"
        ]\n                                 } ]\n                              } ]\n
        \                          }, {\n                              \"value\" :
        [ \" \" ]\n                           }, {\n                              \"r\"
        : \"172\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"starts \" ]\n                              }, {\n                                 \"r\"
        : \"171\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"60 \",\"days\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \" or less after\" ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \" ]\n                           }, {\n                              \"r\"
        : \"170\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"start of \" ]\n                              }, {\n                                 \"r\"
        : \"169\",\n                                 \"s\" : [ {\n                                    \"r\"
        : \"168\",\n                                    \"s\" : [ {\n                                       \"value\"
        : [ \"FirstDiagnosis\" ]\n                                    } ]\n                                 },
        {\n                                    \"value\" : [ \".\" ]\n                                 },
        {\n                                    \"r\" : \"169\",\n                                    \"s\"
        : [ {\n                                       \"value\" : [ \"prevalencePeriod\"
        ]\n                                    } ]\n                                 }
        ]\n                              } ]\n                           } ]\n                        }
        ]\n                     } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"174\",\n
        \              \"type\" : \"Query\",\n               \"source\" : [ {\n                  \"localId\"
        : \"163\",\n                  \"alias\" : \"Diagnosis\",\n                  \"expression\"
        : {\n                     \"localId\" : \"162\",\n                     \"dataType\"
        : \"{urn:healthit-gov:qdm:v5_0_draft}Diagnosis\",\n                     \"type\"
        : \"Retrieve\",\n                     \"codes\" : {\n                        \"name\"
        : \"Alcohol and Drug Dependence\",\n                        \"type\" : \"ValueSetRef\"\n
        \                    }\n                  }\n               } ],\n               \"relationship\"
        : [ {\n                  \"localId\" : \"173\",\n                  \"alias\"
        : \"FirstDiagnosis\",\n                  \"type\" : \"With\",\n                  \"expression\"
        : {\n                     \"localId\" : \"164\",\n                     \"name\"
        : \"First Alcohol Drug Dependence Dx\",\n                     \"type\" : \"ExpressionRef\"\n
        \                 },\n                  \"suchThat\" : {\n                     \"localId\"
        : \"172\",\n                     \"type\" : \"In\",\n                     \"operand\"
        : [ {\n                        \"type\" : \"Start\",\n                        \"operand\"
        : {\n                           \"localId\" : \"167\",\n                           \"path\"
        : \"prevalencePeriod\",\n                           \"scope\" : \"Diagnosis\",\n
        \                          \"type\" : \"Property\"\n                        }\n
        \                    }, {\n                        \"lowClosed\" : false,\n
        \                       \"highClosed\" : true,\n                        \"type\"
        : \"Interval\",\n                        \"low\" : {\n                           \"localId\"
        : \"170\",\n                           \"type\" : \"Start\",\n                           \"operand\"
        : {\n                              \"localId\" : \"169\",\n                              \"path\"
        : \"prevalencePeriod\",\n                              \"scope\" : \"FirstDiagnosis\",\n
        \                             \"type\" : \"Property\"\n                           }\n
        \                       },\n                        \"high\" : {\n                           \"type\"
        : \"Add\",\n                           \"operand\" : [ {\n                              \"localId\"
        : \"170\",\n                              \"type\" : \"Start\",\n                              \"operand\"
        : {\n                                 \"localId\" : \"169\",\n                                 \"path\"
        : \"prevalencePeriod\",\n                                 \"scope\" : \"FirstDiagnosis\",\n
        \                                \"type\" : \"Property\"\n                              }\n
        \                          }, {\n                              \"localId\"
        : \"171\",\n                              \"value\" : 60,\n                              \"unit\"
        : \"days\",\n                              \"type\" : \"Quantity\"\n                           }
        ]\n                        }\n                     } ]\n                  }\n
        \              } ]\n            }\n         }, {\n            \"localId\"
        : \"189\",\n            \"name\" : \"Drug Dependence Treatment Encounters
        A Month After Diagnosis\",\n            \"context\" : \"Patient\",\n            \"accessLevel\"
        : \"Public\",\n            \"annotation\" : [ {\n               \"type\" :
        \"Annotation\",\n               \"s\" : {\n                  \"r\" : \"189\",\n
        \                 \"s\" : [ {\n                     \"value\" : [ \"define
        \",\"\\\"Drug Dependence Treatment Encounters A Month After Diagnosis\\\"\",\":
        \" ]\n                  }, {\n                     \"r\" : \"188\",\n                     \"s\"
        : [ {\n                        \"s\" : [ {\n                           \"r\"
        : \"177\",\n                           \"s\" : [ {\n                              \"r\"
        : \"176\",\n                              \"s\" : [ {\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"\\\"Drug Dependence
        Treatment Or Psych Encounters\\\"\" ]\n                                 }
        ]\n                              } ]\n                           }, {\n                              \"value\"
        : [ \" \",\"Encounter\" ]\n                           } ]\n                        }
        ]\n                     }, {\n                        \"value\" : [ \" \\r\\n
        \    \" ]\n                     }, {\n                        \"r\" : \"187\",\n
        \                       \"s\" : [ {\n                           \"value\"
        : [ \"with \" ]\n                        }, {\n                           \"r\"
        : \"179\",\n                           \"s\" : [ {\n                              \"r\"
        : \"178\",\n                              \"s\" : [ {\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"\\\"Drug Dependence
        Treatment Or Psych Visit\\\"\" ]\n                                 } ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \",\"Visit\" ]\n                           } ]\n                        },
        {\n                           \"value\" : [ \" \\r\\n       such that \" ]\n
        \                       }, {\n                           \"r\" : \"186\",\n
        \                          \"s\" : [ {\n                              \"r\"
        : \"181\",\n                              \"s\" : [ {\n                                 \"r\"
        : \"180\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"Visit\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \".\" ]\n                              },
        {\n                                 \"r\" : \"181\",\n                                 \"s\"
        : [ {\n                                    \"value\" : [ \"relevantPeriod\"
        ]\n                                 } ]\n                              } ]\n
        \                          }, {\n                              \"value\" :
        [ \" \" ]\n                           }, {\n                              \"r\"
        : \"186\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"starts \" ]\n                              }, {\n                                 \"r\"
        : \"185\",\n                                 \"s\" : [ {\n                                    \"value\"
        : [ \"30 \",\"days\" ]\n                                 } ]\n                              },
        {\n                                 \"value\" : [ \" or less after\" ]\n                              }
        ]\n                           }, {\n                              \"value\"
        : [ \" \" ]\n                           }, {\n                              \"r\"
        : \"184\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"start of \" ]\n                              }, {\n                                 \"r\"
        : \"183\",\n                                 \"s\" : [ {\n                                    \"r\"
        : \"182\",\n                                    \"s\" : [ {\n                                       \"value\"
        : [ \"Encounter\" ]\n                                    } ]\n                                 },
        {\n                                    \"value\" : [ \".\" ]\n                                 },
        {\n                                    \"r\" : \"183\",\n                                    \"s\"
        : [ {\n                                       \"value\" : [ \"relevantPeriod\"
        ]\n                                    } ]\n                                 }
        ]\n                              } ]\n                           } ]\n                        }
        ]\n                     } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"188\",\n
        \              \"type\" : \"Query\",\n               \"source\" : [ {\n                  \"localId\"
        : \"177\",\n                  \"alias\" : \"Encounter\",\n                  \"expression\"
        : {\n                     \"localId\" : \"176\",\n                     \"name\"
        : \"Drug Dependence Treatment Or Psych Encounters\",\n                     \"type\"
        : \"ExpressionRef\"\n                  }\n               } ],\n               \"relationship\"
        : [ {\n                  \"localId\" : \"187\",\n                  \"alias\"
        : \"Visit\",\n                  \"type\" : \"With\",\n                  \"expression\"
        : {\n                     \"localId\" : \"178\",\n                     \"name\"
        : \"Drug Dependence Treatment Or Psych Visit\",\n                     \"type\"
        : \"ExpressionRef\"\n                  },\n                  \"suchThat\"
        : {\n                     \"localId\" : \"186\",\n                     \"type\"
        : \"In\",\n                     \"operand\" : [ {\n                        \"type\"
        : \"Start\",\n                        \"operand\" : {\n                           \"localId\"
        : \"181\",\n                           \"path\" : \"relevantPeriod\",\n                           \"scope\"
        : \"Visit\",\n                           \"type\" : \"Property\"\n                        }\n
        \                    }, {\n                        \"lowClosed\" : false,\n
        \                       \"highClosed\" : true,\n                        \"type\"
        : \"Interval\",\n                        \"low\" : {\n                           \"localId\"
        : \"184\",\n                           \"type\" : \"Start\",\n                           \"operand\"
        : {\n                              \"localId\" : \"183\",\n                              \"path\"
        : \"relevantPeriod\",\n                              \"scope\" : \"Encounter\",\n
        \                             \"type\" : \"Property\"\n                           }\n
        \                       },\n                        \"high\" : {\n                           \"type\"
        : \"Add\",\n                           \"operand\" : [ {\n                              \"localId\"
        : \"184\",\n                              \"type\" : \"Start\",\n                              \"operand\"
        : {\n                                 \"localId\" : \"183\",\n                                 \"path\"
        : \"relevantPeriod\",\n                                 \"scope\" : \"Encounter\",\n
        \                                \"type\" : \"Property\"\n                              }\n
        \                          }, {\n                              \"localId\"
        : \"185\",\n                              \"value\" : 30,\n                              \"unit\"
        : \"days\",\n                              \"type\" : \"Quantity\"\n                           }
        ]\n                        }\n                     } ]\n                  }\n
        \              } ]\n            }\n         }, {\n            \"localId\"
        : \"196\",\n            \"name\" : \"Numerator 2\",\n            \"context\"
        : \"Patient\",\n            \"accessLevel\" : \"Public\",\n            \"annotation\"
        : [ {\n               \"type\" : \"Annotation\",\n               \"s\" : {\n
        \                 \"r\" : \"196\",\n                  \"s\" : [ {\n                     \"value\"
        : [ \"define \",\"\\\"Numerator 2\\\"\",\": \" ]\n                  }, {\n
        \                    \"r\" : \"195\",\n                     \"s\" : [ {\n
        \                       \"r\" : \"190\",\n                        \"s\" :
        [ {\n                           \"value\" : [ \"\\\"Numerator 1\\\"\" ]\n
        \                       } ]\n                     }, {\n                        \"value\"
        : [ \" \\r\\n     and \" ]\n                     }, {\n                        \"r\"
        : \"194\",\n                        \"s\" : [ {\n                           \"r\"
        : \"192\",\n                           \"s\" : [ {\n                              \"value\"
        : [ \"Count\",\"(\" ]\n                           }, {\n                              \"r\"
        : \"191\",\n                              \"s\" : [ {\n                                 \"value\"
        : [ \"\\\"Drug Dependence Treatment Encounters A Month After Diagnosis\\\"\"
        ]\n                              } ]\n                           }, {\n                              \"value\"
        : [ \")\" ]\n                           } ]\n                        }, {\n
        \                          \"value\" : [ \" \",\">=\",\" \",\"2\" ]\n                        }
        ]\n                     } ]\n                  } ]\n               }\n            }
        ],\n            \"expression\" : {\n               \"localId\" : \"195\",\n
        \              \"type\" : \"And\",\n               \"operand\" : [ {\n                  \"localId\"
        : \"190\",\n                  \"name\" : \"Numerator 1\",\n                  \"type\"
        : \"ExpressionRef\"\n               }, {\n                  \"localId\" :
        \"194\",\n                  \"type\" : \"GreaterOrEqual\",\n                  \"operand\"
        : [ {\n                     \"localId\" : \"192\",\n                     \"type\"
        : \"Count\",\n                     \"source\" : {\n                        \"localId\"
        : \"191\",\n                        \"name\" : \"Drug Dependence Treatment
        Encounters A Month After Diagnosis\",\n                        \"type\" :
        \"ExpressionRef\"\n                     }\n                  }, {\n                     \"localId\"
        : \"193\",\n                     \"valueType\" : \"{urn:hl7-org:elm-types:r1}Integer\",\n
        \                    \"value\" : \"2\",\n                     \"type\" : \"Literal\"\n
        \                 } ]\n               } ]\n            }\n         } ]\n      }\n
        \  }\n}\r\n--Boundary_15_334526780_1503417935499--\r\n"
    http_version: 
  recorded_at: Tue, 22 Aug 2017 16:05:35 GMT
- request:
    method: post
    uri: http://localhost:8080/cql/translator
    body:
      encoding: ASCII-8BIT
      string: "--755947\r\nContent-Disposition: form-data; name=\"file[]\"\r\n\r\nlibrary
        InitiationandEngagementofAlcoholandOtherDrugDependenceTreatment version '0.0.001'\n\nusing
        QDM version '5.0'\n\nvalueset \"Psych Visit - Psychotherapy\": 'urn:oid:2.16.840.1.113883.3.526.3.1496'
        \n\nvalueset \"Alcohol and Drug Dependence\": 'urn:oid:2.16.840.1.113883.3.464.1003.106.12.1001'
        \n\nvalueset \"Face-to-Face Interaction\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1048'
        \n\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836' \n\nvalueset \"ONC
        Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1' \n\nvalueset \"Office
        Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001' \n\nvalueset \"Hospital
        Inpatient Visit - Initial\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1004'
        \n\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837' \n\nvalueset
        \"Alcohol and Drug Dependence Treatment\": 'urn:oid:2.16.840.1.113883.3.464.1003.106.12.1005'
        \n\nvalueset \"Payer\": 'urn:oid:2.16.840.1.114222.4.11.3591' \n\nvalueset
        \"Detoxification Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1059'
        \n\nvalueset \"Discharge Services - Hospital Inpatient\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1007'
        \n\nvalueset \"Hospital Observation Care - Initial\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1002'
        \n\nvalueset \"Discharge Services - Hospital Inpatient Same Day Discharge\":
        'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1006' \n\nvalueset \"Emergency
        Department Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1010' \n\nparameter
        \"Measurement Period\" Interval<DateTime>\n\ncontext Patient\n\ndefine \"SDE
        Ethnicity\": [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\n\ndefine
        \"SDE Payer\": [\"Patient Characteristic Payer\": \"Payer\"]\n\ndefine \"SDE
        Race\": [\"Patient Characteristic Race\": \"Race\"]\n\ndefine \"SDE Sex\":
        [\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\n\ndefine \"Initial
        Population 1\": \"In Demographic\" \r\n and exists (\"First Alcohol Drug Dependence
        Dx\")\n\ndefine \"Denominator 1\": \"Initial Population 1\"\n\ndefine \"Numerator
        1\": exists (\"Drug Dependence Treatment Or Psych Visit\")\n\ndefine \"Stratification
        1_1\": AgeInYearsAt(start of \"Measurement Period\") >= 13 \r\n     and AgeInYearsAt(start
        of \"Measurement Period\") < 18\n\ndefine \"Stratification 1_2\": AgeInYearsAt(start
        of \"Measurement Period\") >= 18\n\ndefine \"Initial Population 2\": \"In
        Demographic\" \r\nand exists (\"First Alcohol Drug Dependence Dx\")\n\ndefine
        \"Denominator 2\": \"Initial Population 2\"\n\ndefine \"Denominator Exclusions
        1\": [\"Diagnosis\": \"Alcohol and Drug Dependence\"] Diagnosis \r\n     with
        \"First Alcohol Drug Dependence Dx\" FirstDiagnosis \r\n       such that Diagnosis.prevalencePeriod
        starts 60 days or less after start of FirstDiagnosis.prevalencePeriod\n\ndefine
        \"Denominator Exclusions 2\": [\"Diagnosis\": \"Alcohol and Drug Dependence\"]
        Diagnosis \r\n     with \"First Alcohol Drug Dependence Dx\" FirstDiagnosis
        \r\n       such that Diagnosis.prevalencePeriod starts 60 days or less after
        start of FirstDiagnosis.prevalencePeriod\n\ndefine \"Drug Dependence Treatment
        Encounters A Month After Diagnosis\": \"Drug Dependence Treatment Or Psych
        Encounters\" Encounter \r\n     with \"Drug Dependence Treatment Or Psych
        Visit\" Visit \r\n       such that Visit.relevantPeriod starts 30 days or
        less after start of Encounter.relevantPeriod\n\ndefine \"Numerator 2\": \"Numerator
        1\" \r\n     and Count(\"Drug Dependence Treatment Encounters A Month After
        Diagnosis\") >= 2\n\ndefine \"In Demographic\": AgeInYearsAt(start of \"Measurement
        Period\") >= 13\n\ndefine \"Valid Encounters\": distinct ( \r\n[\"Encounter,
        Performed\": \"Office Visit\"] \r\n union [\"Encounter, Performed\": \"Emergency
        Department Visit\"] \r\n union [\"Encounter, Performed\": \"Detoxification
        Visit\"] \r\n union [\"Encounter, Performed\": \"Hospital Observation Care
        - Initial\"] \r\n union [\"Encounter, Performed\": \"Hospital Inpatient Visit
        - Initial\"] \r\n union [\"Encounter, Performed\": \"Discharge Services -
        Hospital Inpatient Same Day Discharge\"] \r\n union [\"Encounter, Performed\":
        \"Discharge Services - Hospital Inpatient\"] \r\n union [\"Encounter, Performed\":
        \"Face-to-Face Interaction\"] \r\n)\n\ndefine \"Encounters During Measurement
        Period\": \"Valid Encounters\" Encounter \r\n  where Encounter.relevantPeriod
        during \"Measurement Period\"\n\ndefine \"Alcohol and Drug Dependence Diagnosis\":
        [\"Diagnosis\": \"Alcohol and Drug Dependence\"]\n\ndefine \"First Alcohol
        Drug Dependence Interval\": Interval[start of \"Measurement Period\", start
        of \"Measurement Period\" + 10 months]\n\ndefine \"First Alcohol Drug Dependence\":
        { First( \r\n   \"Alcohol and Drug Dependence Diagnosis\" Diagnosis \r\n     where
        Diagnosis.prevalencePeriod starts during \"First Alcohol Drug Dependence Interval\"
        \r\n      sort by start of prevalencePeriod \r\n ) \r\n}\n\ndefine \"First
        Alcohol Drug Dependence Dx\": \"First Alcohol Drug Dependence\" Diagnosis
        \r\n  with \"Encounters During Measurement Period\" Encounter \r\n  such that
        Diagnosis.prevalencePeriod starts during Encounter.relevantPeriod\n\ndefine
        \"Drug Dependence Treatment Or Psych Encounters\": [\"Encounter, Performed\":
        \"Alcohol and Drug Dependence Treatment\"] \r\n union [\"Encounter, Performed\":
        \"Psych Visit - Psychotherapy\"]\n\ndefine \"Drug Dependence Treatment Or
        Psych Visit\": \"Drug Dependence Treatment Or Psych Encounters\" Encounter
        \r\n     with \"First Alcohol Drug Dependence Dx\" Diagnosis \r\n     such
        that Diagnosis.prevalencePeriod starts 14 days or less after start of Encounter.relevantPeriod\n\r\n--755947--\r\n"
    headers:
      Accept:
      - multipart/form-data
      Accept-Encoding:
      - gzip, deflate
      X-Targetformat:
      - application/elm+xml
      Content-Length:
      - '5344'
      Content-Type:
      - multipart/form-data; boundary=755947
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Mime-Version:
      - '1.0'
      Content-Type:
      - multipart/form-data;boundary=Boundary_16_1662876654_1503417936081
      Date:
      - Tue, 22 Aug 2017 16:05:35 GMT
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: "--Boundary_16_1662876654_1503417936081\r\nContent-Type: application/elm+xml\r\nContent-Disposition:
        form-data; name=\"file[]\"\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<library
        xmlns=\"urn:hl7-org:elm:r1\" xmlns:t=\"urn:hl7-org:elm-types:r1\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"
        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:fhir=\"http://hl7.org/fhir\"
        xmlns:a=\"urn:hl7-org:cql-annotations:r1\">\n   <annotation startLine=\"39\"
        startChar=\"25\" endLine=\"39\" endChar=\"73\" message=\"Retrieve has a terminology
        target but does not specify a code path and the type of the retrieve does
        not have a primary code path defined.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"39\" startChar=\"25\"
        endLine=\"39\" endChar=\"73\" message=\"Could not resolve membership operator
        for terminology target of the retrieve.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"41\" startChar=\"21\"
        endLine=\"41\" endChar=\"61\" message=\"Retrieve has a terminology target
        but does not specify a code path and the type of the retrieve does not have
        a primary code path defined.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"41\" startChar=\"21\"
        endLine=\"41\" endChar=\"61\" message=\"Could not resolve membership operator
        for terminology target of the retrieve.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"43\" startChar=\"20\"
        endLine=\"43\" endChar=\"58\" message=\"Retrieve has a terminology target
        but does not specify a code path and the type of the retrieve does not have
        a primary code path defined.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"43\" startChar=\"20\"
        endLine=\"43\" endChar=\"58\" message=\"Could not resolve membership operator
        for terminology target of the retrieve.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"45\" startChar=\"19\"
        endLine=\"45\" endChar=\"74\" message=\"Retrieve has a terminology target
        but does not specify a code path and the type of the retrieve does not have
        a primary code path defined.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"45\" startChar=\"19\"
        endLine=\"45\" endChar=\"74\" message=\"Could not resolve membership operator
        for terminology target of the retrieve.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"95\" startChar=\"49\"
        endLine=\"95\" endChar=\"92\" message=\"Retrieve has a terminology target
        but does not specify a code path and the type of the retrieve does not have
        a primary code path defined.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"95\" startChar=\"49\"
        endLine=\"95\" endChar=\"92\" message=\"Could not resolve membership operator
        for terminology target of the retrieve.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"64\" startChar=\"36\"
        endLine=\"64\" endChar=\"79\" message=\"Retrieve has a terminology target
        but does not specify a code path and the type of the retrieve does not have
        a primary code path defined.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"64\" startChar=\"36\"
        endLine=\"64\" endChar=\"79\" message=\"Could not resolve membership operator
        for terminology target of the retrieve.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"68\" startChar=\"36\"
        endLine=\"68\" endChar=\"79\" message=\"Retrieve has a terminology target
        but does not specify a code path and the type of the retrieve does not have
        a primary code path defined.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <annotation startLine=\"68\" startChar=\"36\"
        endLine=\"68\" endChar=\"79\" message=\"Could not resolve membership operator
        for terminology target of the retrieve.\" errorType=\"semantic\" errorSeverity=\"warning\"
        xsi:type=\"a:CqlToElmError\"/>\n   <identifier id=\"InitiationandEngagementofAlcoholandOtherDrugDependenceTreatment\"
        version=\"0.0.001\"/>\n   <schemaIdentifier id=\"urn:hl7-org:elm\" version=\"r1\"/>\n
        \  <usings>\n      <def localIdentifier=\"System\" uri=\"urn:hl7-org:elm-types:r1\"/>\n
        \     <def localId=\"1\" localIdentifier=\"QDM\" uri=\"urn:healthit-gov:qdm:v5_0_draft\"
        version=\"5.0\"/>\n   </usings>\n   <parameters>\n      <def localId=\"19\"
        name=\"Measurement Period\" accessLevel=\"Public\">\n         <parameterTypeSpecifier
        localId=\"18\" xsi:type=\"IntervalTypeSpecifier\">\n            <pointType
        localId=\"17\" name=\"t:DateTime\" xsi:type=\"NamedTypeSpecifier\"/>\n         </parameterTypeSpecifier>\n
        \     </def>\n   </parameters>\n   <valueSets>\n      <def localId=\"2\" name=\"Psych
        Visit - Psychotherapy\" id=\"urn:oid:2.16.840.1.113883.3.526.3.1496\" accessLevel=\"Public\"/>\n
        \     <def localId=\"3\" name=\"Alcohol and Drug Dependence\" id=\"urn:oid:2.16.840.1.113883.3.464.1003.106.12.1001\"
        accessLevel=\"Public\"/>\n      <def localId=\"4\" name=\"Face-to-Face Interaction\"
        id=\"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1048\" accessLevel=\"Public\"/>\n
        \     <def localId=\"5\" name=\"Race\" id=\"urn:oid:2.16.840.1.114222.4.11.836\"
        accessLevel=\"Public\"/>\n      <def localId=\"6\" name=\"ONC Administrative
        Sex\" id=\"urn:oid:2.16.840.1.113762.1.4.1\" accessLevel=\"Public\"/>\n      <def
        localId=\"7\" name=\"Office Visit\" id=\"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001\"
        accessLevel=\"Public\"/>\n      <def localId=\"8\" name=\"Hospital Inpatient
        Visit - Initial\" id=\"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1004\"
        accessLevel=\"Public\"/>\n      <def localId=\"9\" name=\"Ethnicity\" id=\"urn:oid:2.16.840.1.114222.4.11.837\"
        accessLevel=\"Public\"/>\n      <def localId=\"10\" name=\"Alcohol and Drug
        Dependence Treatment\" id=\"urn:oid:2.16.840.1.113883.3.464.1003.106.12.1005\"
        accessLevel=\"Public\"/>\n      <def localId=\"11\" name=\"Payer\" id=\"urn:oid:2.16.840.1.114222.4.11.3591\"
        accessLevel=\"Public\"/>\n      <def localId=\"12\" name=\"Detoxification
        Visit\" id=\"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1059\" accessLevel=\"Public\"/>\n
        \     <def localId=\"13\" name=\"Discharge Services - Hospital Inpatient\"
        id=\"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1007\" accessLevel=\"Public\"/>\n
        \     <def localId=\"14\" name=\"Hospital Observation Care - Initial\" id=\"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1002\"
        accessLevel=\"Public\"/>\n      <def localId=\"15\" name=\"Discharge Services
        - Hospital Inpatient Same Day Discharge\" id=\"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1006\"
        accessLevel=\"Public\"/>\n      <def localId=\"16\" name=\"Emergency Department
        Visit\" id=\"urn:oid:2.16.840.1.113883.3.464.1003.101.12.1010\" accessLevel=\"Public\"/>\n
        \  </valueSets>\n   <statements>\n      <def name=\"Patient\" context=\"Patient\">\n
        \        <expression xsi:type=\"SingletonFrom\">\n            <operand xmlns:ns0=\"urn:healthit-gov:qdm:v5_0_draft\"
        dataType=\"ns0:Patient\" templateId=\"Patient\" xsi:type=\"Retrieve\"/>\n
        \        </expression>\n      </def>\n      <def localId=\"21\" name=\"SDE
        Ethnicity\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation
        xsi:type=\"a:Annotation\">\n            <a:s r=\"21\">\n               <a:s>define
        &quot;SDE Ethnicity&quot;: </a:s>\n               <a:s r=\"20\">\n                  <a:s>[&quot;Patient
        Characteristic Ethnicity&quot;: </a:s>\n                  <a:s>\n                     <a:s>&quot;Ethnicity&quot;</a:s>\n
        \                 </a:s>\n                  <a:s>]</a:s>\n               </a:s>\n
        \           </a:s>\n         </annotation>\n         <expression localId=\"20\"
        xmlns:ns1=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns1:PatientCharacteristicEthnicity\"
        xsi:type=\"Retrieve\">\n            <codes name=\"Ethnicity\" xsi:type=\"ValueSetRef\"/>\n
        \        </expression>\n      </def>\n      <def localId=\"23\" name=\"SDE
        Payer\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation
        xsi:type=\"a:Annotation\">\n            <a:s r=\"23\">\n               <a:s>define
        &quot;SDE Payer&quot;: </a:s>\n               <a:s r=\"22\">\n                  <a:s>[&quot;Patient
        Characteristic Payer&quot;: </a:s>\n                  <a:s>\n                     <a:s>&quot;Payer&quot;</a:s>\n
        \                 </a:s>\n                  <a:s>]</a:s>\n               </a:s>\n
        \           </a:s>\n         </annotation>\n         <expression localId=\"22\"
        xmlns:ns2=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns2:PatientCharacteristicPayer\"
        xsi:type=\"Retrieve\">\n            <codes name=\"Payer\" xsi:type=\"ValueSetRef\"/>\n
        \        </expression>\n      </def>\n      <def localId=\"25\" name=\"SDE
        Race\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"25\">\n               <a:s>define &quot;SDE Race&quot;:
        </a:s>\n               <a:s r=\"24\">\n                  <a:s>[&quot;Patient
        Characteristic Race&quot;: </a:s>\n                  <a:s>\n                     <a:s>&quot;Race&quot;</a:s>\n
        \                 </a:s>\n                  <a:s>]</a:s>\n               </a:s>\n
        \           </a:s>\n         </annotation>\n         <expression localId=\"24\"
        xmlns:ns3=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns3:PatientCharacteristicRace\"
        xsi:type=\"Retrieve\">\n            <codes name=\"Race\" xsi:type=\"ValueSetRef\"/>\n
        \        </expression>\n      </def>\n      <def localId=\"27\" name=\"SDE
        Sex\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"27\">\n               <a:s>define &quot;SDE Sex&quot;:
        </a:s>\n               <a:s r=\"26\">\n                  <a:s>[&quot;Patient
        Characteristic Sex&quot;: </a:s>\n                  <a:s>\n                     <a:s>&quot;ONC
        Administrative Sex&quot;</a:s>\n                  </a:s>\n                  <a:s>]</a:s>\n
        \              </a:s>\n            </a:s>\n         </annotation>\n         <expression
        localId=\"26\" xmlns:ns4=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns4:PatientCharacteristicSex\"
        xsi:type=\"Retrieve\">\n            <codes name=\"ONC Administrative Sex\"
        xsi:type=\"ValueSetRef\"/>\n         </expression>\n      </def>\n      <def
        localId=\"33\" name=\"In Demographic\" context=\"Patient\" accessLevel=\"Public\">\n
        \        <annotation xsi:type=\"a:Annotation\">\n            <a:s r=\"33\">\n
        \              <a:s>define &quot;In Demographic&quot;: </a:s>\n               <a:s
        r=\"32\">\n                  <a:s r=\"30\">\n                     <a:s>AgeInYearsAt(</a:s>\n
        \                    <a:s r=\"29\">\n                        <a:s>start of
        </a:s>\n                        <a:s r=\"28\">\n                           <a:s>&quot;Measurement
        Period&quot;</a:s>\n                        </a:s>\n                     </a:s>\n
        \                    <a:s>)</a:s>\n                  </a:s>\n                  <a:s>
        >= 13</a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"32\" xsi:type=\"GreaterOrEqual\">\n            <operand
        localId=\"30\" precision=\"Year\" xsi:type=\"CalculateAgeAt\">\n               <operand
        path=\"birthDatetime\" xsi:type=\"Property\">\n                  <source name=\"Patient\"
        xsi:type=\"ExpressionRef\"/>\n               </operand>\n               <operand
        localId=\"29\" xsi:type=\"Start\">\n                  <operand localId=\"28\"
        name=\"Measurement Period\" xsi:type=\"ParameterRef\"/>\n               </operand>\n
        \           </operand>\n            <operand localId=\"31\" valueType=\"t:Integer\"
        value=\"13\" xsi:type=\"Literal\"/>\n         </expression>\n      </def>\n
        \     <def localId=\"36\" name=\"Alcohol and Drug Dependence Diagnosis\" context=\"Patient\"
        accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"36\">\n               <a:s>define &quot;Alcohol and Drug
        Dependence Diagnosis&quot;: </a:s>\n               <a:s r=\"35\">\n                  <a:s>[&quot;Diagnosis&quot;:
        </a:s>\n                  <a:s>\n                     <a:s>&quot;Alcohol and
        Drug Dependence&quot;</a:s>\n                  </a:s>\n                  <a:s>]</a:s>\n
        \              </a:s>\n            </a:s>\n         </annotation>\n         <expression
        localId=\"35\" xmlns:ns5=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns5:Diagnosis\"
        xsi:type=\"Retrieve\">\n            <codes name=\"Alcohol and Drug Dependence\"
        xsi:type=\"ValueSetRef\"/>\n         </expression>\n      </def>\n      <def
        localId=\"48\" name=\"First Alcohol Drug Dependence Interval\" context=\"Patient\"
        accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"48\">\n               <a:s>define &quot;First Alcohol
        Drug Dependence Interval&quot;: </a:s>\n               <a:s r=\"47\">\n                  <a:s>Interval[</a:s>\n
        \                 <a:s r=\"42\">\n                     <a:s>start of </a:s>\n
        \                    <a:s r=\"41\">\n                        <a:s>&quot;Measurement
        Period&quot;</a:s>\n                     </a:s>\n                  </a:s>\n
        \                 <a:s>, </a:s>\n                  <a:s r=\"46\">\n                     <a:s
        r=\"44\">\n                        <a:s>start of </a:s>\n                        <a:s
        r=\"43\">\n                           <a:s>&quot;Measurement Period&quot;</a:s>\n
        \                       </a:s>\n                     </a:s>\n                     <a:s>
        + </a:s>\n                     <a:s r=\"45\">\n                        <a:s>10
        months</a:s>\n                     </a:s>\n                  </a:s>\n                  <a:s>]</a:s>\n
        \              </a:s>\n            </a:s>\n         </annotation>\n         <expression
        localId=\"47\" lowClosed=\"true\" highClosed=\"true\" xsi:type=\"Interval\">\n
        \           <low localId=\"42\" xsi:type=\"Start\">\n               <operand
        localId=\"41\" name=\"Measurement Period\" xsi:type=\"ParameterRef\"/>\n            </low>\n
        \           <high localId=\"46\" xsi:type=\"Add\">\n               <operand
        localId=\"44\" xsi:type=\"Start\">\n                  <operand localId=\"43\"
        name=\"Measurement Period\" xsi:type=\"ParameterRef\"/>\n               </operand>\n
        \              <operand localId=\"45\" value=\"10\" unit=\"months\" xsi:type=\"Quantity\"/>\n
        \           </high>\n         </expression>\n      </def>\n      <def localId=\"58\"
        name=\"First Alcohol Drug Dependence\" context=\"Patient\" accessLevel=\"Public\">\n
        \        <annotation xsi:type=\"a:Annotation\">\n            <a:s r=\"58\">\n
        \              <a:s>define &quot;First Alcohol Drug Dependence&quot;: </a:s>\n
        \              <a:s r=\"57\">\n                  <a:s>{ </a:s>\n                  <a:s
        r=\"56\">\n                     <a:s>First( &#xd;\n   </a:s>\n                     <a:s
        r=\"55\">\n                        <a:s>\n                           <a:s
        r=\"38\">\n                              <a:s r=\"37\">\n                                 <a:s>\n
        \                                   <a:s>&quot;Alcohol and Drug Dependence
        Diagnosis&quot;</a:s>\n                                 </a:s>\n                              </a:s>\n
        \                             <a:s> Diagnosis</a:s>\n                           </a:s>\n
        \                       </a:s>\n                        <a:s> &#xd;\n     </a:s>\n
        \                       <a:s r=\"50\">\n                           <a:s>where
        </a:s>\n                           <a:s r=\"50\">\n                              <a:s
        r=\"40\">\n                                 <a:s r=\"39\">\n                                    <a:s>Diagnosis</a:s>\n
        \                                </a:s>\n                                 <a:s>.</a:s>\n
        \                                <a:s r=\"40\">\n                                    <a:s>prevalencePeriod</a:s>\n
        \                                </a:s>\n                              </a:s>\n
        \                             <a:s> starts during </a:s>\n                              <a:s
        r=\"49\">\n                                 <a:s>&quot;First Alcohol Drug
        Dependence Interval&quot;</a:s>\n                              </a:s>\n                           </a:s>\n
        \                       </a:s>\n                        <a:s> &#xd;\n      </a:s>\n
        \                       <a:s r=\"54\">\n                           <a:s>sort
        by </a:s>\n                           <a:s r=\"53\">\n                              <a:s
        r=\"52\">\n                                 <a:s>start of </a:s>\n                                 <a:s
        r=\"51\">\n                                    <a:s>prevalencePeriod</a:s>\n
        \                                </a:s>\n                              </a:s>\n
        \                          </a:s>\n                        </a:s>\n                     </a:s>\n
        \                    <a:s> &#xd;\n )</a:s>\n                  </a:s>\n                  <a:s>
        &#xd;\n}</a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"57\" xsi:type=\"List\">\n            <element
        localId=\"56\" xsi:type=\"First\">\n               <source localId=\"55\"
        xsi:type=\"Query\">\n                  <source localId=\"38\" alias=\"Diagnosis\">\n
        \                    <expression localId=\"37\" name=\"Alcohol and Drug Dependence
        Diagnosis\" xsi:type=\"ExpressionRef\"/>\n                  </source>\n                  <where
        localId=\"50\" xsi:type=\"In\">\n                     <operand xsi:type=\"Start\">\n
        \                       <operand localId=\"40\" path=\"prevalencePeriod\"
        scope=\"Diagnosis\" xsi:type=\"Property\"/>\n                     </operand>\n
        \                    <operand localId=\"49\" name=\"First Alcohol Drug Dependence
        Interval\" xsi:type=\"ExpressionRef\"/>\n                  </where>\n                  <sort
        localId=\"54\">\n                     <by localId=\"53\" direction=\"asc\"
        xsi:type=\"ByExpression\">\n                        <expression localId=\"52\"
        xsi:type=\"Start\">\n                           <operand localId=\"51\" name=\"prevalencePeriod\"
        xsi:type=\"IdentifierRef\"/>\n                        </expression>\n                     </by>\n
        \                 </sort>\n               </source>\n            </element>\n
        \        </expression>\n      </def>\n      <def localId=\"77\" name=\"Valid
        Encounters\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation
        xsi:type=\"a:Annotation\">\n            <a:s r=\"77\">\n               <a:s>define
        &quot;Valid Encounters&quot;: </a:s>\n               <a:s r=\"76\">\n                  <a:s>distinct
        ( &#xd;\n</a:s>\n                  <a:s r=\"75\">\n                     <a:s
        r=\"73\">\n                        <a:s r=\"71\">\n                           <a:s
        r=\"69\">\n                              <a:s r=\"67\">\n                                 <a:s
        r=\"65\">\n                                    <a:s r=\"63\">\n                                       <a:s
        r=\"61\">\n                                          <a:s>[&quot;Encounter,
        Performed&quot;: </a:s>\n                                          <a:s>\n
        \                                            <a:s>&quot;Office Visit&quot;</a:s>\n
        \                                         </a:s>\n                                          <a:s>]</a:s>\n
        \                                      </a:s>\n                                       <a:s>
        &#xd;\n union </a:s>\n                                       <a:s r=\"62\">\n
        \                                         <a:s>[&quot;Encounter, Performed&quot;:
        </a:s>\n                                          <a:s>\n                                             <a:s>&quot;Emergency
        Department Visit&quot;</a:s>\n                                          </a:s>\n
        \                                         <a:s>]</a:s>\n                                       </a:s>\n
        \                                   </a:s>\n                                    <a:s>
        &#xd;\n union </a:s>\n                                    <a:s r=\"64\">\n
        \                                      <a:s>[&quot;Encounter, Performed&quot;:
        </a:s>\n                                       <a:s>\n                                          <a:s>&quot;Detoxification
        Visit&quot;</a:s>\n                                       </a:s>\n                                       <a:s>]</a:s>\n
        \                                   </a:s>\n                                 </a:s>\n
        \                                <a:s> &#xd;\n union </a:s>\n                                 <a:s
        r=\"66\">\n                                    <a:s>[&quot;Encounter, Performed&quot;:
        </a:s>\n                                    <a:s>\n                                       <a:s>&quot;Hospital
        Observation Care - Initial&quot;</a:s>\n                                    </a:s>\n
        \                                   <a:s>]</a:s>\n                                 </a:s>\n
        \                             </a:s>\n                              <a:s>
        &#xd;\n union </a:s>\n                              <a:s r=\"68\">\n                                 <a:s>[&quot;Encounter,
        Performed&quot;: </a:s>\n                                 <a:s>\n                                    <a:s>&quot;Hospital
        Inpatient Visit - Initial&quot;</a:s>\n                                 </a:s>\n
        \                                <a:s>]</a:s>\n                              </a:s>\n
        \                          </a:s>\n                           <a:s> &#xd;\n
        union </a:s>\n                           <a:s r=\"70\">\n                              <a:s>[&quot;Encounter,
        Performed&quot;: </a:s>\n                              <a:s>\n                                 <a:s>&quot;Discharge
        Services - Hospital Inpatient Same Day Discharge&quot;</a:s>\n                              </a:s>\n
        \                             <a:s>]</a:s>\n                           </a:s>\n
        \                       </a:s>\n                        <a:s> &#xd;\n union
        </a:s>\n                        <a:s r=\"72\">\n                           <a:s>[&quot;Encounter,
        Performed&quot;: </a:s>\n                           <a:s>\n                              <a:s>&quot;Discharge
        Services - Hospital Inpatient&quot;</a:s>\n                           </a:s>\n
        \                          <a:s>]</a:s>\n                        </a:s>\n
        \                    </a:s>\n                     <a:s> &#xd;\n union </a:s>\n
        \                    <a:s r=\"74\">\n                        <a:s>[&quot;Encounter,
        Performed&quot;: </a:s>\n                        <a:s>\n                           <a:s>&quot;Face-to-Face
        Interaction&quot;</a:s>\n                        </a:s>\n                        <a:s>]</a:s>\n
        \                    </a:s>\n                  </a:s>\n                  <a:s>
        &#xd;\n)</a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"76\" xsi:type=\"Distinct\">\n            <operand
        localId=\"75\" xsi:type=\"Union\">\n               <operand localId=\"73\"
        xsi:type=\"Union\">\n                  <operand localId=\"71\" xsi:type=\"Union\">\n
        \                    <operand localId=\"69\" xsi:type=\"Union\">\n                        <operand
        localId=\"67\" xsi:type=\"Union\">\n                           <operand localId=\"65\"
        xsi:type=\"Union\">\n                              <operand localId=\"63\"
        xsi:type=\"Union\">\n                                 <operand localId=\"61\"
        xmlns:ns6=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns6:PositiveEncounterPerformed\"
        templateId=\"PositiveEncounterPerformed\" codeProperty=\"code\" xsi:type=\"Retrieve\">\n
        \                                   <codes name=\"Office Visit\" xsi:type=\"ValueSetRef\"/>\n
        \                                </operand>\n                                 <operand
        localId=\"62\" xmlns:ns7=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns7:PositiveEncounterPerformed\"
        templateId=\"PositiveEncounterPerformed\" codeProperty=\"code\" xsi:type=\"Retrieve\">\n
        \                                   <codes name=\"Emergency Department Visit\"
        xsi:type=\"ValueSetRef\"/>\n                                 </operand>\n
        \                             </operand>\n                              <operand
        localId=\"64\" xmlns:ns8=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns8:PositiveEncounterPerformed\"
        templateId=\"PositiveEncounterPerformed\" codeProperty=\"code\" xsi:type=\"Retrieve\">\n
        \                                <codes name=\"Detoxification Visit\" xsi:type=\"ValueSetRef\"/>\n
        \                             </operand>\n                           </operand>\n
        \                          <operand localId=\"66\" xmlns:ns9=\"urn:healthit-gov:qdm:v5_0_draft\"
        dataType=\"ns9:PositiveEncounterPerformed\" templateId=\"PositiveEncounterPerformed\"
        codeProperty=\"code\" xsi:type=\"Retrieve\">\n                              <codes
        name=\"Hospital Observation Care - Initial\" xsi:type=\"ValueSetRef\"/>\n
        \                          </operand>\n                        </operand>\n
        \                       <operand localId=\"68\" xmlns:ns10=\"urn:healthit-gov:qdm:v5_0_draft\"
        dataType=\"ns10:PositiveEncounterPerformed\" templateId=\"PositiveEncounterPerformed\"
        codeProperty=\"code\" xsi:type=\"Retrieve\">\n                           <codes
        name=\"Hospital Inpatient Visit - Initial\" xsi:type=\"ValueSetRef\"/>\n                        </operand>\n
        \                    </operand>\n                     <operand localId=\"70\"
        xmlns:ns11=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns11:PositiveEncounterPerformed\"
        templateId=\"PositiveEncounterPerformed\" codeProperty=\"code\" xsi:type=\"Retrieve\">\n
        \                       <codes name=\"Discharge Services - Hospital Inpatient
        Same Day Discharge\" xsi:type=\"ValueSetRef\"/>\n                     </operand>\n
        \                 </operand>\n                  <operand localId=\"72\" xmlns:ns12=\"urn:healthit-gov:qdm:v5_0_draft\"
        dataType=\"ns12:PositiveEncounterPerformed\" templateId=\"PositiveEncounterPerformed\"
        codeProperty=\"code\" xsi:type=\"Retrieve\">\n                     <codes
        name=\"Discharge Services - Hospital Inpatient\" xsi:type=\"ValueSetRef\"/>\n
        \                 </operand>\n               </operand>\n               <operand
        localId=\"74\" xmlns:ns13=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns13:PositiveEncounterPerformed\"
        templateId=\"PositiveEncounterPerformed\" codeProperty=\"code\" xsi:type=\"Retrieve\">\n
        \                 <codes name=\"Face-to-Face Interaction\" xsi:type=\"ValueSetRef\"/>\n
        \              </operand>\n            </operand>\n         </expression>\n
        \     </def>\n      <def localId=\"85\" name=\"Encounters During Measurement
        Period\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation
        xsi:type=\"a:Annotation\">\n            <a:s r=\"85\">\n               <a:s>define
        &quot;Encounters During Measurement Period&quot;: </a:s>\n               <a:s
        r=\"84\">\n                  <a:s>\n                     <a:s r=\"79\">\n
        \                       <a:s r=\"78\">\n                           <a:s>\n
        \                             <a:s>&quot;Valid Encounters&quot;</a:s>\n                           </a:s>\n
        \                       </a:s>\n                        <a:s> Encounter</a:s>\n
        \                    </a:s>\n                  </a:s>\n                  <a:s>
        &#xd;\n  </a:s>\n                  <a:s r=\"83\">\n                     <a:s>where
        </a:s>\n                     <a:s r=\"83\">\n                        <a:s
        r=\"81\">\n                           <a:s r=\"80\">\n                              <a:s>Encounter</a:s>\n
        \                          </a:s>\n                           <a:s>.</a:s>\n
        \                          <a:s r=\"81\">\n                              <a:s>relevantPeriod</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        during </a:s>\n                        <a:s r=\"82\">\n                           <a:s>&quot;Measurement
        Period&quot;</a:s>\n                        </a:s>\n                     </a:s>\n
        \                 </a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"84\" xsi:type=\"Query\">\n            <source
        localId=\"79\" alias=\"Encounter\">\n               <expression localId=\"78\"
        name=\"Valid Encounters\" xsi:type=\"ExpressionRef\"/>\n            </source>\n
        \           <where localId=\"83\" xsi:type=\"IncludedIn\">\n               <operand
        localId=\"81\" path=\"relevantPeriod\" scope=\"Encounter\" xsi:type=\"Property\"/>\n
        \              <operand localId=\"82\" name=\"Measurement Period\" xsi:type=\"ParameterRef\"/>\n
        \           </where>\n         </expression>\n      </def>\n      <def localId=\"95\"
        name=\"First Alcohol Drug Dependence Dx\" context=\"Patient\" accessLevel=\"Public\">\n
        \        <annotation xsi:type=\"a:Annotation\">\n            <a:s r=\"95\">\n
        \              <a:s>define &quot;First Alcohol Drug Dependence Dx&quot;: </a:s>\n
        \              <a:s r=\"94\">\n                  <a:s>\n                     <a:s
        r=\"60\">\n                        <a:s r=\"59\">\n                           <a:s>\n
        \                             <a:s>&quot;First Alcohol Drug Dependence&quot;</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        Diagnosis</a:s>\n                     </a:s>\n                  </a:s>\n                  <a:s>
        &#xd;\n  </a:s>\n                  <a:s r=\"93\">\n                     <a:s>with
        </a:s>\n                     <a:s r=\"87\">\n                        <a:s
        r=\"86\">\n                           <a:s>\n                              <a:s>&quot;Encounters
        During Measurement Period&quot;</a:s>\n                           </a:s>\n
        \                       </a:s>\n                        <a:s> Encounter</a:s>\n
        \                    </a:s>\n                     <a:s> &#xd;\n  such that
        </a:s>\n                     <a:s r=\"92\">\n                        <a:s
        r=\"89\">\n                           <a:s r=\"88\">\n                              <a:s>Diagnosis</a:s>\n
        \                          </a:s>\n                           <a:s>.</a:s>\n
        \                          <a:s r=\"89\">\n                              <a:s>prevalencePeriod</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        starts during </a:s>\n                        <a:s r=\"91\">\n                           <a:s
        r=\"90\">\n                              <a:s>Encounter</a:s>\n                           </a:s>\n
        \                          <a:s>.</a:s>\n                           <a:s r=\"91\">\n
        \                             <a:s>relevantPeriod</a:s>\n                           </a:s>\n
        \                       </a:s>\n                     </a:s>\n                  </a:s>\n
        \              </a:s>\n            </a:s>\n         </annotation>\n         <expression
        localId=\"94\" xsi:type=\"Query\">\n            <source localId=\"60\" alias=\"Diagnosis\">\n
        \              <expression localId=\"59\" name=\"First Alcohol Drug Dependence\"
        xsi:type=\"ExpressionRef\"/>\n            </source>\n            <relationship
        localId=\"93\" alias=\"Encounter\" xsi:type=\"With\">\n               <expression
        localId=\"86\" name=\"Encounters During Measurement Period\" xsi:type=\"ExpressionRef\"/>\n
        \              <suchThat localId=\"92\" xsi:type=\"In\">\n                  <operand
        xsi:type=\"Start\">\n                     <operand localId=\"89\" path=\"prevalencePeriod\"
        scope=\"Diagnosis\" xsi:type=\"Property\"/>\n                  </operand>\n
        \                 <operand localId=\"91\" path=\"relevantPeriod\" scope=\"Encounter\"
        xsi:type=\"Property\"/>\n               </suchThat>\n            </relationship>\n
        \        </expression>\n      </def>\n      <def localId=\"99\" name=\"Initial
        Population 1\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation
        xsi:type=\"a:Annotation\">\n            <a:s r=\"99\">\n               <a:s>define
        &quot;Initial Population 1&quot;: </a:s>\n               <a:s r=\"98\">\n
        \                 <a:s r=\"34\">\n                     <a:s>&quot;In Demographic&quot;</a:s>\n
        \                 </a:s>\n                  <a:s> &#xd;\n and </a:s>\n                  <a:s
        r=\"97\">\n                     <a:s>exists </a:s>\n                     <a:s
        r=\"96\">\n                        <a:s>(</a:s>\n                        <a:s
        r=\"96\">\n                           <a:s>&quot;First Alcohol Drug Dependence
        Dx&quot;</a:s>\n                        </a:s>\n                        <a:s>)</a:s>\n
        \                    </a:s>\n                  </a:s>\n               </a:s>\n
        \           </a:s>\n         </annotation>\n         <expression localId=\"98\"
        xsi:type=\"And\">\n            <operand localId=\"34\" name=\"In Demographic\"
        xsi:type=\"ExpressionRef\"/>\n            <operand localId=\"97\" xsi:type=\"Exists\">\n
        \              <operand localId=\"96\" name=\"First Alcohol Drug Dependence
        Dx\" xsi:type=\"ExpressionRef\"/>\n            </operand>\n         </expression>\n
        \     </def>\n      <def localId=\"101\" name=\"Denominator 1\" context=\"Patient\"
        accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"101\">\n               <a:s>define &quot;Denominator
        1&quot;: </a:s>\n               <a:s r=\"100\">\n                  <a:s>&quot;Initial
        Population 1&quot;</a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"100\" name=\"Initial Population 1\" xsi:type=\"ExpressionRef\"/>\n
        \     </def>\n      <def localId=\"105\" name=\"Drug Dependence Treatment
        Or Psych Encounters\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation
        xsi:type=\"a:Annotation\">\n            <a:s r=\"105\">\n               <a:s>define
        &quot;Drug Dependence Treatment Or Psych Encounters&quot;: </a:s>\n               <a:s
        r=\"104\">\n                  <a:s r=\"102\">\n                     <a:s>[&quot;Encounter,
        Performed&quot;: </a:s>\n                     <a:s>\n                        <a:s>&quot;Alcohol
        and Drug Dependence Treatment&quot;</a:s>\n                     </a:s>\n                     <a:s>]</a:s>\n
        \                 </a:s>\n                  <a:s> &#xd;\n union </a:s>\n                  <a:s
        r=\"103\">\n                     <a:s>[&quot;Encounter, Performed&quot;: </a:s>\n
        \                    <a:s>\n                        <a:s>&quot;Psych Visit
        - Psychotherapy&quot;</a:s>\n                     </a:s>\n                     <a:s>]</a:s>\n
        \                 </a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"104\" xsi:type=\"Union\">\n            <operand
        localId=\"102\" xmlns:ns14=\"urn:healthit-gov:qdm:v5_0_draft\" dataType=\"ns14:PositiveEncounterPerformed\"
        templateId=\"PositiveEncounterPerformed\" codeProperty=\"code\" xsi:type=\"Retrieve\">\n
        \              <codes name=\"Alcohol and Drug Dependence Treatment\" xsi:type=\"ValueSetRef\"/>\n
        \           </operand>\n            <operand localId=\"103\" xmlns:ns15=\"urn:healthit-gov:qdm:v5_0_draft\"
        dataType=\"ns15:PositiveEncounterPerformed\" templateId=\"PositiveEncounterPerformed\"
        codeProperty=\"code\" xsi:type=\"Retrieve\">\n               <codes name=\"Psych
        Visit - Psychotherapy\" xsi:type=\"ValueSetRef\"/>\n            </operand>\n
        \        </expression>\n      </def>\n      <def localId=\"119\" name=\"Drug
        Dependence Treatment Or Psych Visit\" context=\"Patient\" accessLevel=\"Public\">\n
        \        <annotation xsi:type=\"a:Annotation\">\n            <a:s r=\"119\">\n
        \              <a:s>define &quot;Drug Dependence Treatment Or Psych Visit&quot;:
        </a:s>\n               <a:s r=\"118\">\n                  <a:s>\n                     <a:s
        r=\"107\">\n                        <a:s r=\"106\">\n                           <a:s>\n
        \                             <a:s>&quot;Drug Dependence Treatment Or Psych
        Encounters&quot;</a:s>\n                           </a:s>\n                        </a:s>\n
        \                       <a:s> Encounter</a:s>\n                     </a:s>\n
        \                 </a:s>\n                  <a:s> &#xd;\n     </a:s>\n                  <a:s
        r=\"117\">\n                     <a:s>with </a:s>\n                     <a:s
        r=\"109\">\n                        <a:s r=\"108\">\n                           <a:s>\n
        \                             <a:s>&quot;First Alcohol Drug Dependence Dx&quot;</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        Diagnosis</a:s>\n                     </a:s>\n                     <a:s> &#xd;\n
        \    such that </a:s>\n                     <a:s r=\"116\">\n                        <a:s
        r=\"111\">\n                           <a:s r=\"110\">\n                              <a:s>Diagnosis</a:s>\n
        \                          </a:s>\n                           <a:s>.</a:s>\n
        \                          <a:s r=\"111\">\n                              <a:s>prevalencePeriod</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        </a:s>\n                        <a:s r=\"116\">\n                           <a:s>starts
        </a:s>\n                           <a:s r=\"115\">\n                              <a:s>14
        days</a:s>\n                           </a:s>\n                           <a:s>
        or less after</a:s>\n                        </a:s>\n                        <a:s>
        </a:s>\n                        <a:s r=\"114\">\n                           <a:s>start
        of </a:s>\n                           <a:s r=\"113\">\n                              <a:s
        r=\"112\">\n                                 <a:s>Encounter</a:s>\n                              </a:s>\n
        \                             <a:s>.</a:s>\n                              <a:s
        r=\"113\">\n                                 <a:s>relevantPeriod</a:s>\n                              </a:s>\n
        \                          </a:s>\n                        </a:s>\n                     </a:s>\n
        \                 </a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"118\" xsi:type=\"Query\">\n            <source
        localId=\"107\" alias=\"Encounter\">\n               <expression localId=\"106\"
        name=\"Drug Dependence Treatment Or Psych Encounters\" xsi:type=\"ExpressionRef\"/>\n
        \           </source>\n            <relationship localId=\"117\" alias=\"Diagnosis\"
        xsi:type=\"With\">\n               <expression localId=\"108\" name=\"First
        Alcohol Drug Dependence Dx\" xsi:type=\"ExpressionRef\"/>\n               <suchThat
        localId=\"116\" xsi:type=\"In\">\n                  <operand xsi:type=\"Start\">\n
        \                    <operand localId=\"111\" path=\"prevalencePeriod\" scope=\"Diagnosis\"
        xsi:type=\"Property\"/>\n                  </operand>\n                  <operand
        lowClosed=\"false\" highClosed=\"true\" xsi:type=\"Interval\">\n                     <low
        localId=\"114\" xsi:type=\"Start\">\n                        <operand localId=\"113\"
        path=\"relevantPeriod\" scope=\"Encounter\" xsi:type=\"Property\"/>\n                     </low>\n
        \                    <high xsi:type=\"Add\">\n                        <operand
        localId=\"114\" xsi:type=\"Start\">\n                           <operand localId=\"113\"
        path=\"relevantPeriod\" scope=\"Encounter\" xsi:type=\"Property\"/>\n                        </operand>\n
        \                       <operand localId=\"115\" value=\"14\" unit=\"days\"
        xsi:type=\"Quantity\"/>\n                     </high>\n                  </operand>\n
        \              </suchThat>\n            </relationship>\n         </expression>\n
        \     </def>\n      <def localId=\"122\" name=\"Numerator 1\" context=\"Patient\"
        accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"122\">\n               <a:s>define &quot;Numerator 1&quot;:
        </a:s>\n               <a:s r=\"121\">\n                  <a:s>exists </a:s>\n
        \                 <a:s r=\"120\">\n                     <a:s>(</a:s>\n                     <a:s
        r=\"120\">\n                        <a:s>&quot;Drug Dependence Treatment Or
        Psych Visit&quot;</a:s>\n                     </a:s>\n                     <a:s>)</a:s>\n
        \                 </a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"121\" xsi:type=\"Exists\">\n            <operand
        localId=\"120\" name=\"Drug Dependence Treatment Or Psych Visit\" xsi:type=\"ExpressionRef\"/>\n
        \        </expression>\n      </def>\n      <def localId=\"134\" name=\"Stratification
        1_1\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"134\">\n               <a:s>define &quot;Stratification
        1_1&quot;: </a:s>\n               <a:s r=\"133\">\n                  <a:s
        r=\"127\">\n                     <a:s r=\"125\">\n                        <a:s>AgeInYearsAt(</a:s>\n
        \                       <a:s r=\"124\">\n                           <a:s>start
        of </a:s>\n                           <a:s r=\"123\">\n                              <a:s>&quot;Measurement
        Period&quot;</a:s>\n                           </a:s>\n                        </a:s>\n
        \                       <a:s>)</a:s>\n                     </a:s>\n                     <a:s>
        >= 13</a:s>\n                  </a:s>\n                  <a:s> &#xd;\n     and
        </a:s>\n                  <a:s r=\"132\">\n                     <a:s r=\"130\">\n
        \                       <a:s>AgeInYearsAt(</a:s>\n                        <a:s
        r=\"129\">\n                           <a:s>start of </a:s>\n                           <a:s
        r=\"128\">\n                              <a:s>&quot;Measurement Period&quot;</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>)</a:s>\n
        \                    </a:s>\n                     <a:s> &lt; 18</a:s>\n                  </a:s>\n
        \              </a:s>\n            </a:s>\n         </annotation>\n         <expression
        localId=\"133\" xsi:type=\"And\">\n            <operand localId=\"127\" xsi:type=\"GreaterOrEqual\">\n
        \              <operand localId=\"125\" precision=\"Year\" xsi:type=\"CalculateAgeAt\">\n
        \                 <operand path=\"birthDatetime\" xsi:type=\"Property\">\n
        \                    <source name=\"Patient\" xsi:type=\"ExpressionRef\"/>\n
        \                 </operand>\n                  <operand localId=\"124\" xsi:type=\"Start\">\n
        \                    <operand localId=\"123\" name=\"Measurement Period\"
        xsi:type=\"ParameterRef\"/>\n                  </operand>\n               </operand>\n
        \              <operand localId=\"126\" valueType=\"t:Integer\" value=\"13\"
        xsi:type=\"Literal\"/>\n            </operand>\n            <operand localId=\"132\"
        xsi:type=\"Less\">\n               <operand localId=\"130\" precision=\"Year\"
        xsi:type=\"CalculateAgeAt\">\n                  <operand path=\"birthDatetime\"
        xsi:type=\"Property\">\n                     <source name=\"Patient\" xsi:type=\"ExpressionRef\"/>\n
        \                 </operand>\n                  <operand localId=\"129\" xsi:type=\"Start\">\n
        \                    <operand localId=\"128\" name=\"Measurement Period\"
        xsi:type=\"ParameterRef\"/>\n                  </operand>\n               </operand>\n
        \              <operand localId=\"131\" valueType=\"t:Integer\" value=\"18\"
        xsi:type=\"Literal\"/>\n            </operand>\n         </expression>\n      </def>\n
        \     <def localId=\"140\" name=\"Stratification 1_2\" context=\"Patient\"
        accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"140\">\n               <a:s>define &quot;Stratification
        1_2&quot;: </a:s>\n               <a:s r=\"139\">\n                  <a:s
        r=\"137\">\n                     <a:s>AgeInYearsAt(</a:s>\n                     <a:s
        r=\"136\">\n                        <a:s>start of </a:s>\n                        <a:s
        r=\"135\">\n                           <a:s>&quot;Measurement Period&quot;</a:s>\n
        \                       </a:s>\n                     </a:s>\n                     <a:s>)</a:s>\n
        \                 </a:s>\n                  <a:s> >= 18</a:s>\n               </a:s>\n
        \           </a:s>\n         </annotation>\n         <expression localId=\"139\"
        xsi:type=\"GreaterOrEqual\">\n            <operand localId=\"137\" precision=\"Year\"
        xsi:type=\"CalculateAgeAt\">\n               <operand path=\"birthDatetime\"
        xsi:type=\"Property\">\n                  <source name=\"Patient\" xsi:type=\"ExpressionRef\"/>\n
        \              </operand>\n               <operand localId=\"136\" xsi:type=\"Start\">\n
        \                 <operand localId=\"135\" name=\"Measurement Period\" xsi:type=\"ParameterRef\"/>\n
        \              </operand>\n            </operand>\n            <operand localId=\"138\"
        valueType=\"t:Integer\" value=\"18\" xsi:type=\"Literal\"/>\n         </expression>\n
        \     </def>\n      <def localId=\"145\" name=\"Initial Population 2\" context=\"Patient\"
        accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"145\">\n               <a:s>define &quot;Initial Population
        2&quot;: </a:s>\n               <a:s r=\"144\">\n                  <a:s r=\"141\">\n
        \                    <a:s>&quot;In Demographic&quot;</a:s>\n                  </a:s>\n
        \                 <a:s> &#xd;\nand </a:s>\n                  <a:s r=\"143\">\n
        \                    <a:s>exists </a:s>\n                     <a:s r=\"142\">\n
        \                       <a:s>(</a:s>\n                        <a:s r=\"142\">\n
        \                          <a:s>&quot;First Alcohol Drug Dependence Dx&quot;</a:s>\n
        \                       </a:s>\n                        <a:s>)</a:s>\n                     </a:s>\n
        \                 </a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"144\" xsi:type=\"And\">\n            <operand
        localId=\"141\" name=\"In Demographic\" xsi:type=\"ExpressionRef\"/>\n            <operand
        localId=\"143\" xsi:type=\"Exists\">\n               <operand localId=\"142\"
        name=\"First Alcohol Drug Dependence Dx\" xsi:type=\"ExpressionRef\"/>\n            </operand>\n
        \        </expression>\n      </def>\n      <def localId=\"147\" name=\"Denominator
        2\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"147\">\n               <a:s>define &quot;Denominator
        2&quot;: </a:s>\n               <a:s r=\"146\">\n                  <a:s>&quot;Initial
        Population 2&quot;</a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"146\" name=\"Initial Population 2\" xsi:type=\"ExpressionRef\"/>\n
        \     </def>\n      <def localId=\"161\" name=\"Denominator Exclusions 1\"
        context=\"Patient\" accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"161\">\n               <a:s>define &quot;Denominator
        Exclusions 1&quot;: </a:s>\n               <a:s r=\"160\">\n                  <a:s>\n
        \                    <a:s r=\"149\">\n                        <a:s r=\"148\">\n
        \                          <a:s r=\"148\">\n                              <a:s>[&quot;Diagnosis&quot;:
        </a:s>\n                              <a:s>\n                                 <a:s>&quot;Alcohol
        and Drug Dependence&quot;</a:s>\n                              </a:s>\n                              <a:s>]</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        Diagnosis</a:s>\n                     </a:s>\n                  </a:s>\n                  <a:s>
        &#xd;\n     </a:s>\n                  <a:s r=\"159\">\n                     <a:s>with
        </a:s>\n                     <a:s r=\"151\">\n                        <a:s
        r=\"150\">\n                           <a:s>\n                              <a:s>&quot;First
        Alcohol Drug Dependence Dx&quot;</a:s>\n                           </a:s>\n
        \                       </a:s>\n                        <a:s> FirstDiagnosis</a:s>\n
        \                    </a:s>\n                     <a:s> &#xd;\n       such
        that </a:s>\n                     <a:s r=\"158\">\n                        <a:s
        r=\"153\">\n                           <a:s r=\"152\">\n                              <a:s>Diagnosis</a:s>\n
        \                          </a:s>\n                           <a:s>.</a:s>\n
        \                          <a:s r=\"153\">\n                              <a:s>prevalencePeriod</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        </a:s>\n                        <a:s r=\"158\">\n                           <a:s>starts
        </a:s>\n                           <a:s r=\"157\">\n                              <a:s>60
        days</a:s>\n                           </a:s>\n                           <a:s>
        or less after</a:s>\n                        </a:s>\n                        <a:s>
        </a:s>\n                        <a:s r=\"156\">\n                           <a:s>start
        of </a:s>\n                           <a:s r=\"155\">\n                              <a:s
        r=\"154\">\n                                 <a:s>FirstDiagnosis</a:s>\n                              </a:s>\n
        \                             <a:s>.</a:s>\n                              <a:s
        r=\"155\">\n                                 <a:s>prevalencePeriod</a:s>\n
        \                             </a:s>\n                           </a:s>\n
        \                       </a:s>\n                     </a:s>\n                  </a:s>\n
        \              </a:s>\n            </a:s>\n         </annotation>\n         <expression
        localId=\"160\" xsi:type=\"Query\">\n            <source localId=\"149\" alias=\"Diagnosis\">\n
        \              <expression localId=\"148\" xmlns:ns16=\"urn:healthit-gov:qdm:v5_0_draft\"
        dataType=\"ns16:Diagnosis\" xsi:type=\"Retrieve\">\n                  <codes
        name=\"Alcohol and Drug Dependence\" xsi:type=\"ValueSetRef\"/>\n               </expression>\n
        \           </source>\n            <relationship localId=\"159\" alias=\"FirstDiagnosis\"
        xsi:type=\"With\">\n               <expression localId=\"150\" name=\"First
        Alcohol Drug Dependence Dx\" xsi:type=\"ExpressionRef\"/>\n               <suchThat
        localId=\"158\" xsi:type=\"In\">\n                  <operand xsi:type=\"Start\">\n
        \                    <operand localId=\"153\" path=\"prevalencePeriod\" scope=\"Diagnosis\"
        xsi:type=\"Property\"/>\n                  </operand>\n                  <operand
        lowClosed=\"false\" highClosed=\"true\" xsi:type=\"Interval\">\n                     <low
        localId=\"156\" xsi:type=\"Start\">\n                        <operand localId=\"155\"
        path=\"prevalencePeriod\" scope=\"FirstDiagnosis\" xsi:type=\"Property\"/>\n
        \                    </low>\n                     <high xsi:type=\"Add\">\n
        \                       <operand localId=\"156\" xsi:type=\"Start\">\n                           <operand
        localId=\"155\" path=\"prevalencePeriod\" scope=\"FirstDiagnosis\" xsi:type=\"Property\"/>\n
        \                       </operand>\n                        <operand localId=\"157\"
        value=\"60\" unit=\"days\" xsi:type=\"Quantity\"/>\n                     </high>\n
        \                 </operand>\n               </suchThat>\n            </relationship>\n
        \        </expression>\n      </def>\n      <def localId=\"175\" name=\"Denominator
        Exclusions 2\" context=\"Patient\" accessLevel=\"Public\">\n         <annotation
        xsi:type=\"a:Annotation\">\n            <a:s r=\"175\">\n               <a:s>define
        &quot;Denominator Exclusions 2&quot;: </a:s>\n               <a:s r=\"174\">\n
        \                 <a:s>\n                     <a:s r=\"163\">\n                        <a:s
        r=\"162\">\n                           <a:s r=\"162\">\n                              <a:s>[&quot;Diagnosis&quot;:
        </a:s>\n                              <a:s>\n                                 <a:s>&quot;Alcohol
        and Drug Dependence&quot;</a:s>\n                              </a:s>\n                              <a:s>]</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        Diagnosis</a:s>\n                     </a:s>\n                  </a:s>\n                  <a:s>
        &#xd;\n     </a:s>\n                  <a:s r=\"173\">\n                     <a:s>with
        </a:s>\n                     <a:s r=\"165\">\n                        <a:s
        r=\"164\">\n                           <a:s>\n                              <a:s>&quot;First
        Alcohol Drug Dependence Dx&quot;</a:s>\n                           </a:s>\n
        \                       </a:s>\n                        <a:s> FirstDiagnosis</a:s>\n
        \                    </a:s>\n                     <a:s> &#xd;\n       such
        that </a:s>\n                     <a:s r=\"172\">\n                        <a:s
        r=\"167\">\n                           <a:s r=\"166\">\n                              <a:s>Diagnosis</a:s>\n
        \                          </a:s>\n                           <a:s>.</a:s>\n
        \                          <a:s r=\"167\">\n                              <a:s>prevalencePeriod</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        </a:s>\n                        <a:s r=\"172\">\n                           <a:s>starts
        </a:s>\n                           <a:s r=\"171\">\n                              <a:s>60
        days</a:s>\n                           </a:s>\n                           <a:s>
        or less after</a:s>\n                        </a:s>\n                        <a:s>
        </a:s>\n                        <a:s r=\"170\">\n                           <a:s>start
        of </a:s>\n                           <a:s r=\"169\">\n                              <a:s
        r=\"168\">\n                                 <a:s>FirstDiagnosis</a:s>\n                              </a:s>\n
        \                             <a:s>.</a:s>\n                              <a:s
        r=\"169\">\n                                 <a:s>prevalencePeriod</a:s>\n
        \                             </a:s>\n                           </a:s>\n
        \                       </a:s>\n                     </a:s>\n                  </a:s>\n
        \              </a:s>\n            </a:s>\n         </annotation>\n         <expression
        localId=\"174\" xsi:type=\"Query\">\n            <source localId=\"163\" alias=\"Diagnosis\">\n
        \              <expression localId=\"162\" xmlns:ns17=\"urn:healthit-gov:qdm:v5_0_draft\"
        dataType=\"ns17:Diagnosis\" xsi:type=\"Retrieve\">\n                  <codes
        name=\"Alcohol and Drug Dependence\" xsi:type=\"ValueSetRef\"/>\n               </expression>\n
        \           </source>\n            <relationship localId=\"173\" alias=\"FirstDiagnosis\"
        xsi:type=\"With\">\n               <expression localId=\"164\" name=\"First
        Alcohol Drug Dependence Dx\" xsi:type=\"ExpressionRef\"/>\n               <suchThat
        localId=\"172\" xsi:type=\"In\">\n                  <operand xsi:type=\"Start\">\n
        \                    <operand localId=\"167\" path=\"prevalencePeriod\" scope=\"Diagnosis\"
        xsi:type=\"Property\"/>\n                  </operand>\n                  <operand
        lowClosed=\"false\" highClosed=\"true\" xsi:type=\"Interval\">\n                     <low
        localId=\"170\" xsi:type=\"Start\">\n                        <operand localId=\"169\"
        path=\"prevalencePeriod\" scope=\"FirstDiagnosis\" xsi:type=\"Property\"/>\n
        \                    </low>\n                     <high xsi:type=\"Add\">\n
        \                       <operand localId=\"170\" xsi:type=\"Start\">\n                           <operand
        localId=\"169\" path=\"prevalencePeriod\" scope=\"FirstDiagnosis\" xsi:type=\"Property\"/>\n
        \                       </operand>\n                        <operand localId=\"171\"
        value=\"60\" unit=\"days\" xsi:type=\"Quantity\"/>\n                     </high>\n
        \                 </operand>\n               </suchThat>\n            </relationship>\n
        \        </expression>\n      </def>\n      <def localId=\"189\" name=\"Drug
        Dependence Treatment Encounters A Month After Diagnosis\" context=\"Patient\"
        accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"189\">\n               <a:s>define &quot;Drug Dependence
        Treatment Encounters A Month After Diagnosis&quot;: </a:s>\n               <a:s
        r=\"188\">\n                  <a:s>\n                     <a:s r=\"177\">\n
        \                       <a:s r=\"176\">\n                           <a:s>\n
        \                             <a:s>&quot;Drug Dependence Treatment Or Psych
        Encounters&quot;</a:s>\n                           </a:s>\n                        </a:s>\n
        \                       <a:s> Encounter</a:s>\n                     </a:s>\n
        \                 </a:s>\n                  <a:s> &#xd;\n     </a:s>\n                  <a:s
        r=\"187\">\n                     <a:s>with </a:s>\n                     <a:s
        r=\"179\">\n                        <a:s r=\"178\">\n                           <a:s>\n
        \                             <a:s>&quot;Drug Dependence Treatment Or Psych
        Visit&quot;</a:s>\n                           </a:s>\n                        </a:s>\n
        \                       <a:s> Visit</a:s>\n                     </a:s>\n                     <a:s>
        &#xd;\n       such that </a:s>\n                     <a:s r=\"186\">\n                        <a:s
        r=\"181\">\n                           <a:s r=\"180\">\n                              <a:s>Visit</a:s>\n
        \                          </a:s>\n                           <a:s>.</a:s>\n
        \                          <a:s r=\"181\">\n                              <a:s>relevantPeriod</a:s>\n
        \                          </a:s>\n                        </a:s>\n                        <a:s>
        </a:s>\n                        <a:s r=\"186\">\n                           <a:s>starts
        </a:s>\n                           <a:s r=\"185\">\n                              <a:s>30
        days</a:s>\n                           </a:s>\n                           <a:s>
        or less after</a:s>\n                        </a:s>\n                        <a:s>
        </a:s>\n                        <a:s r=\"184\">\n                           <a:s>start
        of </a:s>\n                           <a:s r=\"183\">\n                              <a:s
        r=\"182\">\n                                 <a:s>Encounter</a:s>\n                              </a:s>\n
        \                             <a:s>.</a:s>\n                              <a:s
        r=\"183\">\n                                 <a:s>relevantPeriod</a:s>\n                              </a:s>\n
        \                          </a:s>\n                        </a:s>\n                     </a:s>\n
        \                 </a:s>\n               </a:s>\n            </a:s>\n         </annotation>\n
        \        <expression localId=\"188\" xsi:type=\"Query\">\n            <source
        localId=\"177\" alias=\"Encounter\">\n               <expression localId=\"176\"
        name=\"Drug Dependence Treatment Or Psych Encounters\" xsi:type=\"ExpressionRef\"/>\n
        \           </source>\n            <relationship localId=\"187\" alias=\"Visit\"
        xsi:type=\"With\">\n               <expression localId=\"178\" name=\"Drug
        Dependence Treatment Or Psych Visit\" xsi:type=\"ExpressionRef\"/>\n               <suchThat
        localId=\"186\" xsi:type=\"In\">\n                  <operand xsi:type=\"Start\">\n
        \                    <operand localId=\"181\" path=\"relevantPeriod\" scope=\"Visit\"
        xsi:type=\"Property\"/>\n                  </operand>\n                  <operand
        lowClosed=\"false\" highClosed=\"true\" xsi:type=\"Interval\">\n                     <low
        localId=\"184\" xsi:type=\"Start\">\n                        <operand localId=\"183\"
        path=\"relevantPeriod\" scope=\"Encounter\" xsi:type=\"Property\"/>\n                     </low>\n
        \                    <high xsi:type=\"Add\">\n                        <operand
        localId=\"184\" xsi:type=\"Start\">\n                           <operand localId=\"183\"
        path=\"relevantPeriod\" scope=\"Encounter\" xsi:type=\"Property\"/>\n                        </operand>\n
        \                       <operand localId=\"185\" value=\"30\" unit=\"days\"
        xsi:type=\"Quantity\"/>\n                     </high>\n                  </operand>\n
        \              </suchThat>\n            </relationship>\n         </expression>\n
        \     </def>\n      <def localId=\"196\" name=\"Numerator 2\" context=\"Patient\"
        accessLevel=\"Public\">\n         <annotation xsi:type=\"a:Annotation\">\n
        \           <a:s r=\"196\">\n               <a:s>define &quot;Numerator 2&quot;:
        </a:s>\n               <a:s r=\"195\">\n                  <a:s r=\"190\">\n
        \                    <a:s>&quot;Numerator 1&quot;</a:s>\n                  </a:s>\n
        \                 <a:s> &#xd;\n     and </a:s>\n                  <a:s r=\"194\">\n
        \                    <a:s r=\"192\">\n                        <a:s>Count(</a:s>\n
        \                       <a:s r=\"191\">\n                           <a:s>&quot;Drug
        Dependence Treatment Encounters A Month After Diagnosis&quot;</a:s>\n                        </a:s>\n
        \                       <a:s>)</a:s>\n                     </a:s>\n                     <a:s>
        >= 2</a:s>\n                  </a:s>\n               </a:s>\n            </a:s>\n
        \        </annotation>\n         <expression localId=\"195\" xsi:type=\"And\">\n
        \           <operand localId=\"190\" name=\"Numerator 1\" xsi:type=\"ExpressionRef\"/>\n
        \           <operand localId=\"194\" xsi:type=\"GreaterOrEqual\">\n               <operand
        localId=\"192\" xsi:type=\"Count\">\n                  <source localId=\"191\"
        name=\"Drug Dependence Treatment Encounters A Month After Diagnosis\" xsi:type=\"ExpressionRef\"/>\n
        \              </operand>\n               <operand localId=\"193\" valueType=\"t:Integer\"
        value=\"2\" xsi:type=\"Literal\"/>\n            </operand>\n         </expression>\n
        \     </def>\n   </statements>\n</library>\n\r\n--Boundary_16_1662876654_1503417936081--\r\n"
    http_version: 
  recorded_at: Tue, 22 Aug 2017 16:05:36 GMT
- request:
    method: post
    uri: https://vsac.nlm.nih.gov/vsac/ws/Ticket
    body:
      encoding: UTF-8
      string: username=invaliduser&password=invalidpassword
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Content-Length:
      - '45'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - Ruby
  response:
    status:
      code: 401
      message: ''
    headers:
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Pragma:
      - no-cache
      Expires:
      - '0'
      X-Xss-Protection:
      - 1; mode=block
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - text/plain;charset=utf-8
      Content-Length:
      - '0'
      Date:
      - Tue, 22 Aug 2017 16:05:36 GMT
      Set-Cookie:
      - BIGipServervsacweb_p=!EGKu5XK1BU72tGXLMWjf8K3rTDmEEoTRf9mwR4BjVMy2gUQ7glrjYpnzIrdjKdO9Sqo8DFbEymHOjgo=;
        expires=Tue, 22-Aug-2017 18:05:36 GMT; path=/; Httponly; Secure
      X-Vip-Info:
      - 130.14.16.40:443
      X-Pool-Info:
      - "/Common/vsacweb_p 10.1.5.111 8080"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Tue, 22 Aug 2017 16:05:36 GMT
recorded_with: VCR 3.0.3
